<!doctype html><html lang="fa" dir="rtl"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-HTH8HV1F9Z"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HTH8HV1F9Z', { 'anonymize_ip': false });
}
</script><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="keywords" content="استایل دادن به محتوا بر اساس taxonomy,استایل دادن به پست‌ها,پوسته دروپال,سفارشی کردن تم,تم دروپال,تم,taxonomy,تکسونومی,دسته بندی محتوا,Drupal,taxonomy term,term,style,css,template,phptemplate"><meta name="geo.region" content="IRAN"><link rel="canonical" href="https://hejazee.ir/posts/1390/11/%D9%85%D8%B4%D8%AE%D8%B5-%DA%A9%D8%B1%D8%AF%D9%86-%D8%B1%D9%86%DA%AF-%D9%88-%D9%81%D9%88%D9%86%D8%AA-%D9%88-...-%D8%AE%D8%A7%D8%B5-%D8%A8%D8%B1%D8%A7%DB%8C-%D9%BE%D8%B3%D8%AA-%D9%87%D8%A7-%D8%AF%D8%B1-%D8%AF%D8%B1%D9%88%D9%BE%D8%A7%D9%84-%D8%A8%D8%B1-%D8%A7%D8%B3%D8%A7%D8%B3-%D8%AF%D8%B3%D8%AA%D9%87-%D8%A8%D9%86%D8%AF%DB%8C%D9%87%D8%A7%DB%8C-taxonomy/"><link rel="shortcut icon" href="/favicon.ico" type="image/png"><title>مشخص کردن رنگ و فونت (و غیره) خاص برای پست ها در دروپال بر اساس دسته بندی‌های Taxonomy | وبلاگ رسمی احمد حجازی</title><link rel="stylesheet" href="/lib/bootstrap-5.1.3-dist/css/bootstrap.rtl.min.css"><link rel="stylesheet" href="/lib/fontawesome-free-5.15.2-web/css/all.min.css"><link rel="stylesheet" href="/fonts/fonts.css"><link rel="stylesheet" href="/scss/index.172bdd1266bb92eb39450b3215cc97ecd4d7ec43ae649679fe3140f189d01c32.css" integrity="sha256-FyvdEma7kus5RQsyFcyX7NTX7EOuZJZ5/jFA8YnQHDI=" crossorigin="anonymous"></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="farsaran-header-nav"><div class="container"><a class="navbar-brand order-0 flex-grow-1 flex-lg-grow-0" href="/"><img src="/logo.svg" alt="وبلاگ رسمی احمد حجازی" height="34"></a>
<button class="navbar-toggler order-2 order-lg-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="نمایش منو">
<span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse mb-3 mb-lg-0" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link" href="/contact/">تماس</a></li><li class="nav-item"><a class="nav-link" href="/about/">درباره</a></li></ul></div><script async src="https://cse.google.com/cse.js?cx=929a8d3c0fdb44711">
    </script><div class="gcse-search"></div><style>.gsc-control-cse{padding:0}.gsc-input tbody,.gsc-input input{background-color:#ddd}.gsc-input td.gsib_a{padding:.1rem .5rem}.gsc-search-button{display:none}</style></div></nav><div class="container mt-4"><div class="row"><div class="col-md-9"><header><h1 class="post-title fw-bold fs-2"><a class="text-dark" href="/posts/1390/11/%D9%85%D8%B4%D8%AE%D8%B5-%DA%A9%D8%B1%D8%AF%D9%86-%D8%B1%D9%86%DA%AF-%D9%88-%D9%81%D9%88%D9%86%D8%AA-%D9%88-...-%D8%AE%D8%A7%D8%B5-%D8%A8%D8%B1%D8%A7%DB%8C-%D9%BE%D8%B3%D8%AA-%D9%87%D8%A7-%D8%AF%D8%B1-%D8%AF%D8%B1%D9%88%D9%BE%D8%A7%D9%84-%D8%A8%D8%B1-%D8%A7%D8%B3%D8%A7%D8%B3-%D8%AF%D8%B3%D8%AA%D9%87-%D8%A8%D9%86%D8%AF%DB%8C%D9%87%D8%A7%DB%8C-taxonomy/">مشخص کردن رنگ و فونت (و غیره) خاص برای پست ها در دروپال بر اساس دسته بندی‌های Taxonomy</a></h1></header><small class="d-block text-secondary post-date">ارسال شده در
<time datetime="2012-02-18">Feb 18, 2012</time></small><article class="blog-post" role="article" typeof="schema:Article"><h3><strong>تعریف مساله</strong></h3><p>هدف این است که هر node ای بر حسب برچسب ها (Term ها) یا دسته‌بندی های Taxonomy که دارد، فونت و رنگ خاص خودش را داشته باشد.</p><p>مثلا فرض کنید یک نوع محتوا به نام داستان داریم که به کمک آن برای سنین مختلف داستان در سایت قرار می دهیم. برای مشخص کردن گروه سنی مخاطبین هم از یک Vocabulary به نام گروه سنی استفاده می کنیم که دارای Term های زیر است:</p><ul><li>بزرگسال</li><li>جوان</li><li>نوجوان</li><li>کودک</li></ul><p>اکنون فرض کنید که می‌خواهیم به عنوان مثال، داستان هایی که برای گروه سنی کودک نوشته شده اند، دارای فونت درشت و رنگی و خانواده‌ی Koodak (یا فونت های مناسب دیگر) داشته باشد. و در عوض مثلا داستان های بزرگسالان با فونت B Nazanin باشد.</p><p>مثال های دیگری هم می توان زد. مثلا یک Vocabulary دارید به نام فصل ها و دارای Term های «بهار» ، «تابستان» ، «پاییز» ، و «زمستان» است. اکنون می‌خواهید که مطالب سایت بر حسب فصل شان، دارای تصویر Background متفاوتی از طبیعت باشند.</p><h3><strong>راه حل</strong></h3><p>برای ایجاد چنین موردی، روش‌های متنوعی می‌تواند وجود داشته باشد. اما من از روشی استفاده کردم که الان می‌خواهم توضیح دهم:</p><p>کافی است که کاری کنیم که به کل محتوای آن پست (که معمولا در تگ &lt;div> است) ، بر حسب دسته بندی Taxonomy،&nbsp; یک کلاس پویا اختصاص داده شود. برای این منظور فایل node.tpl.php را در پوشه‌ی پوسته‌ی جاری مان باز می‌کنیم.<br>باید محتوای فایل node.tpl.php را ویرایش کنیم زیرا این فایل مسئول تولید خروجی پست ها (node ها) است. (اگر این فایل موجود نیست، یکی ایجاد کنید. و پس از پایان کار، حتما Cache را پاک کنید (با رفتن به صفحه‌ی Performance و کلیک دکمه‌ی مربوطه))</p><p>من در ابتدای این فایل، کد PHP زیر را قرار دادم:</p><pre class="brush: php;fontsize: 100; first-line: 1;">&lt;?php
$term_classes = '';
foreach ($node-&gt;taxonomy as $tid =&gt; $term_object) {
  $vid = $term_object-&gt;vid;
  $term_classes .= " taxonomy-v{$vid}-t{$tid}";
}
?&gt;</pre><p>به این ترتیب، یک متغیر به نام $term_classes ایجاد کردم که به ازای هر دسته بندی Taxonomy ای که به node (پست) جاری انتساب داده شده است، یک کلاس در خود دارد. فرمت کلاس هم همان طور که می بینید شامل taxonomy و Vocabulary Id و Term Id است</p><p>در نهایت کافی است که تگ div مربوط به node را ویرایش کنیم. مثال برای پوسته Garland یا تاج گل:</p><pre class="brush: php;fontsize: 100; first-line: 1;">&lt;div id="node-&lt;?php print $node-&gt;nid; ?&gt;" class="node&lt;?php if ($sticky) { print ' sticky'; } ?&gt;&lt;?php if (!$status) { print ' node-unpublished'; } ?&gt;&lt;?php print $term_classes; ?&gt;"&gt;
....
....
&lt;/div&gt;</pre><p>و به همین سادگی کارمان انجام شد.</p><p>در نهایت باید در فایل css پوسته‌مان rule های مناسب را ایجاد کنیم تا استایل ها نشان داده شوند. نمونه کد:</p><pre class="brush: css;fontsize: 100; first-line: 1;">.taxonomy-v1-t1 {
  /* White */
  background-color: #FFFFFF;
}
.taxonomy-v1-t2 {
  /* Green */
  background-color: #CCFFCC;
}
.taxonomy-v1-t3 {
  /* Yellow */
  background-color: #FFFFBB;
}
.taxonomy-v1-t4 {
  /* Red */
  background-color: #FFDDDD;
}</pre><p>لطفا نظرات و سوالات خود را برای بهبود این مطلب ارسال کنید.</p><h5>مطالب مرتبط:</h5><ul><li><a href="/posts/1390/11/%D9%87%D9%85%D9%87-%DA%86%DB%8C%D8%B2-%D8%AF%D8%B1%D8%A8%D8%A7%D8%B1%D9%87%DB%8C-panels/">همه چیز درباره‌ی panels</a></li><li><a href="/posts/1390/09/%D8%A7%DB%8C%D8%AC%D8%A7%D8%AF-feed-importer-%D9%BE%DB%8C%D8%B4-%D9%81%D8%B1%D8%B6-%D8%AA%D9%88%D8%B3%D8%B7-%DA%A9%D8%AF-%D9%86%D9%88%DB%8C%D8%B3%DB%8C/">ایجاد Feed importer پیش فرض توسط کد نویسی</a></li></ul></article><div id="comments"><div id="disqus_thread"></div><script>
      window.disqus_config = function () { 
        this.language = "fa";
      };
      (function() {
          var d = document, s = d.createElement('script'); s.async = true;
          s.src = '//' + "hejazee" + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script></div></div><aside class="col-md-3 mt-4"><h3>Monthly Archive</h3><ul><li><a href="/month/1395-06/" title="All posts from 1395-06">1395-06</a> (1)</li><li><a href="/month/1395-01/" title="All posts from 1395-01">1395-01</a> (1)</li><li><a href="/month/1394-12/" title="All posts from 1394-12">1394-12</a> (3)</li><li><a href="/month/1394-08/" title="All posts from 1394-08">1394-08</a> (1)</li><li><a href="/month/1394-07/" title="All posts from 1394-07">1394-07</a> (1)</li><li><a href="/month/1394-03/" title="All posts from 1394-03">1394-03</a> (1)</li><li><a href="/month/1394-02/" title="All posts from 1394-02">1394-02</a> (1)</li><li><a href="/month/1393-12/" title="All posts from 1393-12">1393-12</a> (1)</li><li><a href="/month/1393-07/" title="All posts from 1393-07">1393-07</a> (1)</li><li><a href="/month/1393-06/" title="All posts from 1393-06">1393-06</a> (2)</li><li><a href="/month/1393-05/" title="All posts from 1393-05">1393-05</a> (2)</li><li><a href="/month/1393-04/" title="All posts from 1393-04">1393-04</a> (4)</li><li><a href="/month/1393-03/" title="All posts from 1393-03">1393-03</a> (5)</li><li><a href="/month/1393-02/" title="All posts from 1393-02">1393-02</a> (1)</li><li><a href="/month/1393-01/" title="All posts from 1393-01">1393-01</a> (4)</li><li><a href="/month/1392-12/" title="All posts from 1392-12">1392-12</a> (5)</li><li><a href="/month/1392-10/" title="All posts from 1392-10">1392-10</a> (5)</li><li><a href="/month/1392-06/" title="All posts from 1392-06">1392-06</a> (1)</li><li><a href="/month/1392-04/" title="All posts from 1392-04">1392-04</a> (1)</li><li><a href="/month/1392-02/" title="All posts from 1392-02">1392-02</a> (1)</li><li><a href="/month/1392-01/" title="All posts from 1392-01">1392-01</a> (5)</li><li><a href="/month/1391-11/" title="All posts from 1391-11">1391-11</a> (5)</li><li><a href="/month/1391-10/" title="All posts from 1391-10">1391-10</a> (4)</li><li><a href="/month/1391-09/" title="All posts from 1391-09">1391-09</a> (2)</li><li><a href="/month/1391-08/" title="All posts from 1391-08">1391-08</a> (3)</li><li><a href="/month/1391-07/" title="All posts from 1391-07">1391-07</a> (6)</li><li><a href="/month/1391-05/" title="All posts from 1391-05">1391-05</a> (1)</li><li><a href="/month/1391-04/" title="All posts from 1391-04">1391-04</a> (1)</li><li><a href="/month/1391-03/" title="All posts from 1391-03">1391-03</a> (2)</li><li><a href="/month/1391-02/" title="All posts from 1391-02">1391-02</a> (4)</li><li><a href="/month/1391-01/" title="All posts from 1391-01">1391-01</a> (6)</li><li><a href="/month/1390-12/" title="All posts from 1390-12">1390-12</a> (9)</li><li><a href="/month/1390-11/" title="All posts from 1390-11">1390-11</a> (8)</li><li><a href="/month/1390-10/" title="All posts from 1390-10">1390-10</a> (7)</li><li><a href="/month/1390-09/" title="All posts from 1390-09">1390-09</a> (4)</li><li><a href="/month/1390-08/" title="All posts from 1390-08">1390-08</a> (7)</li><li><a href="/month/1390-07/" title="All posts from 1390-07">1390-07</a> (15)</li><li><a href="/month/1390-06/" title="All posts from 1390-06">1390-06</a> (18)</li></ul></aside></div></div><footer id="footer-wrapper"><div id="footer-bottom-wrapper"><div class="container"><div class="row"><div class="col-12"><p dir="ltr">&copy; Copyright 2011-2022 * Ahmad Hejazee * All rights reserved.</p><small dir="ltr">Proudly Powered by Drupal 10 ;)</small></div></div></div></div></footer><script src="/lib/jQuery/jquery-3.6.0.min.js"></script>
<script src="/lib/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script></body></html>