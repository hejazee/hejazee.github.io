<!doctype html><html lang="fa" dir="rtl"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-HTH8HV1F9Z"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HTH8HV1F9Z', { 'anonymize_ip': false });
}
</script><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="keywords" content="Draggable,قابل حرکت با موس,جرکت دادن,div,آموزش کامپیوتر,برنامه نویسی,VBScript,وی بی اسکریپت,دروپال,Drupal,آموزش برنامه نویسی,طراحی وب,وب,طراحی وب حرفه ای,سیستم عامل,هک,امنیت,مقالات VBScript,فایل,وبگاه,آموزش دروپال,قدم به قدم,مبتدی,حرفه ای,ترفند,بهترین,php,پی اچ پی,css,javascript,html,جاوا اسکریپت,اچ تی ام ال,seo,بهینه سازی,بهینه سازی برای موتور های جستجو,Search Engine Optimization,آشیانه,کتاب,کتاب الکترونیکی,دانلود,وبلاگ,hejazee,hejazi,ashiyane,موتور جستجو"><meta name="geo.region" content="IRAN"><link rel="canonical" href="https://hejazee.ir/posts/1390/12/%DA%86%DA%AF%D9%88%D9%86%D9%87-%DB%8C%DA%A9-%D8%B9%D9%86%D8%B5%D8%B1-html-%D8%B1%D8%A7-%D9%82%D8%A7%D8%A8%D9%84-%D8%AD%D8%B1%DA%A9%D8%AA-%D8%A8%D8%A7-%D9%85%D9%88%D8%B3-%DA%A9%D9%86%DB%8C%D9%85/"><link rel="shortcut icon" href="/favicon.ico" type="image/png"><title>چگونه یک عنصر HTML را قابل حرکت با موس کنیم؟ | وبلاگ رسمی احمد حجازی</title><link rel="stylesheet" href="/lib/bootstrap-5.1.3-dist/css/bootstrap.rtl.min.css"><link rel="stylesheet" href="/lib/fontawesome-free-5.15.2-web/css/all.min.css"><link rel="stylesheet" href="/fonts/fonts.css"><link rel="stylesheet" href="/scss/index.172bdd1266bb92eb39450b3215cc97ecd4d7ec43ae649679fe3140f189d01c32.css" integrity="sha256-FyvdEma7kus5RQsyFcyX7NTX7EOuZJZ5/jFA8YnQHDI=" crossorigin="anonymous"></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="farsaran-header-nav"><div class="container"><a class="navbar-brand order-0 flex-grow-1 flex-lg-grow-0" href="/"><img src="/logo.svg" alt="وبلاگ رسمی احمد حجازی" height="34"></a>
<button class="navbar-toggler order-2 order-lg-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="نمایش منو">
<span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse mb-3 mb-lg-0" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link" href="/contact/">تماس</a></li><li class="nav-item"><a class="nav-link" href="/about/">درباره</a></li></ul></div></div></nav><div class="container mt-4"><div class="row"><div class="col-md-9"><header><h1 class="post-title fw-bold fs-2"><a class="text-dark" href="/posts/1390/12/%DA%86%DA%AF%D9%88%D9%86%D9%87-%DB%8C%DA%A9-%D8%B9%D9%86%D8%B5%D8%B1-html-%D8%B1%D8%A7-%D9%82%D8%A7%D8%A8%D9%84-%D8%AD%D8%B1%DA%A9%D8%AA-%D8%A8%D8%A7-%D9%85%D9%88%D8%B3-%DA%A9%D9%86%DB%8C%D9%85/">چگونه یک عنصر HTML را قابل حرکت با موس کنیم؟</a></h1></header><small class="d-block text-secondary post-date">ارسال شده در
<time datetime="2012-03-08">Mar 8, 2012</time></small><article class="blog-post" role="article" typeof="schema:Article"><p>یکی از کارهای جالب و رایجی که سال‌هاست در وب رایج شده، این است که عناصر HTML را بتوان با موس جا‌به‌جا کرد. مثلا بتوان یک دیالوگ را جابه‌جا کرد. یا تصاویر یک گالری را و ....</p><p>استفاده از این تکنیک در سایت، اگر در جای مناسب استفاده شود، می‌تواند بسیار به جذابیت سایت کمک کند.</p><p>یک نمونه‌ی آشنا از این افکت، همان داشبورد (پیشخوان) وردپرس است.</p><p>برای ایجاد این تکنیک، راه حل‌های زیادی وجود دارد. راه حل مورد علاقه‌ی من (و احتمالا اکثر طراحان وب دیگر) همان کتابخانه jQueryUI است. کتابخانه jQueryUI یک library برای قابلیت drag & drop دارد که بسیار پیشرفته می‌باشد و در عین حال کار با آن بسیار ساده است.</p><p>اما در این مطلب، قصد ندارم jQueryUI را معرفی کنم. در این پست می‌خواهم یک روش دیگر را معرفی کنم که شاید کمتر مورد توجه قرار گرفته باشد (گرچه مطمئن نیستم که این روش پرطرفدار است یا کم طرفدار. برای خودم جدید بود).</p><p>کتابخانه مورد نظر من&nbsp; <a href="http://clonedoppelganger.net/javascript/en/Draggable.html" rel="nofollow">Draggable.js</a> است که بسیار ساده و کم حجم است. (در حالت عادی 5836 بایت و در حالت فشرده 2799 بایت است.)</p><p>در زیر سورس اصلی کتابخانه Draggable.js را می‌بینید:</p><pre class="brush: jscript;fontsize: 100; first-line: 1;">/*
Copyright (c) 2007, NAKAMURA Satoru
All rights reserved.
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<pre><code>* Redistributions of source code must retain the above copyright notice,
  this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.
* Neither the name of the NAKAMURA Satoru nor the names of its contributors
  may be used to endorse or promote products derived from this
  software without specific prior written permission.
</code></pre><p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &ldquo;AS IS&rdquo; AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
<em>/
/</em></p><ul><li>Draggable</li><li></li><li>@website <a href="http://clonedoppelganger.net/">http://clonedoppelganger.net/</a></li><li>@version 0.0.2
<em>/
/</em>
Example:
[CSS]&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;
#element_id {
position: absolute;
top: 10px;
left: 35px;
width: 150px;
height: 100px;
background-color: #00b;
cursor: move;
}
[HTML]&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-
&lt;div id=&ldquo;element_id&rdquo;>&lt;/div>
[JavaScript]&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-
var draggable = new Draggable(&ldquo;element_id&rdquo;);</li></ul><hr><p>*/</p><p>/**</p><ul><li>Constructor</li><li>@param {String|Element} element - element id or element object
*/
var Draggable = function(element) {
this.initialize(element);
}</li></ul><p>/**</p><ul><li>remove EventListeners
*/
Draggable.prototype.destroy = function() {
this.detach(this.element, &ldquo;mousedown&rdquo;, this.observers[&ldquo;mousedown&rdquo;]);
this.detach(this.html, &ldquo;mouseup&rdquo;, this.observers[&ldquo;mouseup&rdquo;]);
this.detach(this.html, &ldquo;mousemove&rdquo;, this.observers[&ldquo;mousemove&rdquo;]);
}</li></ul><p>Draggable.prototype.initialize = function(element) {
this.isIE = navigator.appVersion.lastIndexOf(&ldquo;MSIE&rdquo;) > 0;
this.isFF = navigator.userAgent.toLowerCase().indexOf(&ldquo;firefox&rdquo;) > 0;
this.html = document.getElementsByTagName(&ldquo;html&rdquo;).item(0);
if (typeof element == &ldquo;string&rdquo;) {
this.element = document.getElementById(element);
} else {
this.element = element;
}
this.style = this.element.style;
this.thisBaseX;
this.thisBaseY;
this.pageBaseX;
this.pageBaseY;
this.scrollBaseY;
this.isMoving = false;
this.observers = {};
var self = this;
// Mousedown
this.observers[&ldquo;mousedown&rdquo;] = this.observe(this.element, &ldquo;mousedown&rdquo;, function(event) {
if (self.isMoving) return;
event = event || window.event;
self.disableSelect(event);
var position = self.getPosition();
self.thisBaseX = position[&ldquo;x&rdquo;];
self.thisBaseY = position[&ldquo;y&rdquo;];
self.pageBaseX = event.pageX || event.clientX;
self.pageBaseY = event.pageY || event.clientY;
if (self.isIE) self.scrollBaseY = document.body.scrollTop;
self.isMoving = true;
});
// Mousemove
this.observers[&ldquo;mousemove&rdquo;] = this.observe(this.html, &ldquo;mousemove&rdquo;, function(event) {
if (!self.isMoving) return;
event = event || window.event;
var x = (event.pageX || event.clientX) - self.pageBaseX + self.thisBaseX;
var y = (event.pageY || event.clientY) - self.pageBaseY + self.thisBaseY;
if (self.isIE) y += (parseInt(document.body.scrollTop) - self.scrollBaseY);
self.setPosition(x, y);
});
// Mouseup
this.observers[&ldquo;mouseup&rdquo;] = this.observe(this.html, &ldquo;mouseup&rdquo;, function(event) {
if (!self.isMoving) return;
self.enableSelect();
self.isMoving = false;
});
}</p><p>Draggable.prototype.observe = function(element, name, observer) {
if (element.addEventListener) {
element.addEventListener(name, observer, false);
} else if (element.attachEvent) {
element.attachEvent(&ldquo;on&rdquo; + name, observer);
}
return observer;
}</p><p>Draggable.prototype.detach = function(element, name, observer) {
if (element.removeEventListener) {
element.removeEventListener(name, observer, false);
} else if (element.detachEvent) {
try {
element.detachEvent(&ldquo;on&rdquo; + name, observer);
} catch (e) {}
}
}</p><p>Draggable.prototype.setPosition = function(x, y) {
this.style.left = x + &ldquo;px&rdquo;;
this.style.top = y + &ldquo;px&rdquo;;
}</p><p>Draggable.prototype.getPosition = function() {
var x, y;
// First you acquire from css style information.
if (this.style.top == "" || this.style.left == &ldquo;&rdquo;) {
if (this.element.currentStyle) {
x = this.element.currentStyle[&ldquo;left&rdquo;];
y = this.element.currentStyle[&ldquo;top&rdquo;];
} else {
var computedStyle = document.defaultView.getComputedStyle(this.element, null);
x = computedStyle[&ldquo;left&rdquo;];
y = computedStyle[&ldquo;top&rdquo;];
}
} else {
x = this.style.left;
y = this.style.top;
}
return {&ldquo;x&rdquo;: parseInt(x.replace(&ldquo;px&rdquo;, &ldquo;&rdquo;)) || 0, &ldquo;y&rdquo;: parseInt(y.replace(&ldquo;px&rdquo;, &ldquo;&rdquo;)) || 0};
}</p><p>Draggable.prototype.disableSelect = function(event) {
if (this.isIE) {
document.getElementsByTagName(&ldquo;body&rdquo;).item(0).onselectstart = function(e){ return false };
} else {
try { event.preventDefault(); } catch(e) {}
}
}</p><p>Draggable.prototype.enableSelect = function() {
if (this.isIE) document.getElementsByTagName(&ldquo;body&rdquo;).item(0).onselectstart = &ldquo;&rdquo;;
}</pre><p><span style="color:red">(لطفا اگر از این کتابخانه استفاده می‌کنید، حقوق مولف آن را هم رعایت کنید! )</span></p><p>اکنون برای استفاده از این کتابخانه باید کار های زیر را انجام دهیم:</p><ol><li>وارد کردن کتابخانه به کد HTML توسط یک تگ &lt;script></li><li>تگ HTML ای که قرار است قابل جابه‌جا کردن باشد را مشخص کنید و یک id به آن اختصاص دهید. همچنین خاصیت position: absolute را هم به خواص CSS آن اضافه کنید</li><li>در برنامه JavaScript یک آبجکت جدید از Draggable ایجاد کنید و نام id ی عنصر HTML را به آن ارسال کنید</li><li>تمام!</li><li>برای از بین بردن (خنثی کردن) خاصیت جابه‌جایی پذیری، از متد destroy() استفاده کنید</li></ol><p>نمونه کد:</p><pre class="brush: jscript;fontsize: 100; first-line: 1;">&lt;img src=&quot;./&quot; width=&ldquo;100&rdquo; height=&ldquo;100&rdquo; style=&ldquo;position:absolute&rdquo;&gt;
&lt;img src=&quot;./&quot; width=&ldquo;100&rdquo; height=&ldquo;100&rdquo; style=&ldquo;position:absolute&rdquo;&gt;
&lt;img src=&quot;./&quot; width=&ldquo;100&rdquo; height=&ldquo;100&rdquo; style=&ldquo;position:absolute&rdquo;&gt;
&lt;script type=&ldquo;text/javascript&rdquo;&gt;
var img = document.getElementsByTagName(&ldquo;img&rdquo;);
for (var i = 0; i &lt; img.length; i++) {
new Draggable(img[i]);
}
&lt;/script&gt;</pre><p>یک مثال عملی:</p><pre class="brush: xml;fontsize: 100; first-line: 1;">&lt;!DOCTYPE HTML PUBLIC &ldquo;-//W3C//DTD HTML 4.01 Transitional//EN&rdquo;&gt;
&lt;html lang=&ldquo;en&rdquo;&gt;
&lt;head&gt;
&lt;meta http-equiv=&ldquo;Content-Style-Type&rdquo; content=&ldquo;text/css&rdquo;&gt;
&lt;meta http-equiv=&ldquo;Content-Script-Type&rdquo; content=&ldquo;text/javascript&rdquo;&gt;
&lt;script type=&ldquo;text/javascript&rdquo; src=&quot;./Draggable.js&quot;&gt;&lt;/script&gt;
&lt;style type=&ldquo;text/css&rdquo;&gt;
.sample {
position: absolute;
width: 150px;
height: 100px;
cursor: move;
}
#sample1 {
top: 0px;
left: 500px;
background-color: #AEEE8E;
}
#sample2 {
top: 40px;
left: 540px;
background-color: #8ECAEE;
}
#sample3 {
top: 80px;
left: 580px;
background-color: #EE8E97;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&ldquo;sample1&rdquo; class=&ldquo;sample&rdquo;&gt;Sample 1&lt;/div&gt;
&lt;div id=&ldquo;sample2&rdquo; class=&ldquo;sample&rdquo;&gt;Sample 2&lt;/div&gt;
&lt;div id=&ldquo;sample3&rdquo; class=&ldquo;sample&rdquo;&gt;Sample 3&lt;/div&gt;
&lt;script type=&ldquo;text/javascript&rdquo;&gt;
var sample1 = new Draggable(&ldquo;sample1&rdquo;);
var sample2 = new Draggable(&ldquo;sample2&rdquo;);
var sample3 = new Draggable(&ldquo;sample3&rdquo;);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><p>کد های کامل را برای دانلود ضمیمه کردم</p></p></article></div><aside class="col-md-3 mt-4"><h3>Monthly Archive</h3><ul><li><a href="/month/1401-06/" title="All posts from 1401-06">1401-06</a> (1)</li><li><a href="/month/1395-06/" title="All posts from 1395-06">1395-06</a> (1)</li><li><a href="/month/1395-01/" title="All posts from 1395-01">1395-01</a> (1)</li><li><a href="/month/1394-12/" title="All posts from 1394-12">1394-12</a> (3)</li><li><a href="/month/1394-08/" title="All posts from 1394-08">1394-08</a> (1)</li><li><a href="/month/1394-07/" title="All posts from 1394-07">1394-07</a> (1)</li><li><a href="/month/1394-03/" title="All posts from 1394-03">1394-03</a> (1)</li><li><a href="/month/1394-02/" title="All posts from 1394-02">1394-02</a> (1)</li><li><a href="/month/1393-12/" title="All posts from 1393-12">1393-12</a> (1)</li><li><a href="/month/1393-07/" title="All posts from 1393-07">1393-07</a> (1)</li><li><a href="/month/1393-06/" title="All posts from 1393-06">1393-06</a> (2)</li><li><a href="/month/1393-05/" title="All posts from 1393-05">1393-05</a> (2)</li><li><a href="/month/1393-04/" title="All posts from 1393-04">1393-04</a> (4)</li><li><a href="/month/1393-03/" title="All posts from 1393-03">1393-03</a> (5)</li><li><a href="/month/1393-02/" title="All posts from 1393-02">1393-02</a> (1)</li><li><a href="/month/1393-01/" title="All posts from 1393-01">1393-01</a> (4)</li><li><a href="/month/1392-12/" title="All posts from 1392-12">1392-12</a> (5)</li><li><a href="/month/1392-10/" title="All posts from 1392-10">1392-10</a> (5)</li><li><a href="/month/1392-06/" title="All posts from 1392-06">1392-06</a> (1)</li><li><a href="/month/1392-04/" title="All posts from 1392-04">1392-04</a> (1)</li><li><a href="/month/1392-02/" title="All posts from 1392-02">1392-02</a> (1)</li><li><a href="/month/1392-01/" title="All posts from 1392-01">1392-01</a> (5)</li><li><a href="/month/1391-11/" title="All posts from 1391-11">1391-11</a> (5)</li><li><a href="/month/1391-10/" title="All posts from 1391-10">1391-10</a> (4)</li><li><a href="/month/1391-09/" title="All posts from 1391-09">1391-09</a> (2)</li><li><a href="/month/1391-08/" title="All posts from 1391-08">1391-08</a> (3)</li><li><a href="/month/1391-07/" title="All posts from 1391-07">1391-07</a> (6)</li><li><a href="/month/1391-05/" title="All posts from 1391-05">1391-05</a> (1)</li><li><a href="/month/1391-04/" title="All posts from 1391-04">1391-04</a> (1)</li><li><a href="/month/1391-03/" title="All posts from 1391-03">1391-03</a> (2)</li><li><a href="/month/1391-02/" title="All posts from 1391-02">1391-02</a> (4)</li><li><a href="/month/1391-01/" title="All posts from 1391-01">1391-01</a> (6)</li><li><a href="/month/1390-12/" title="All posts from 1390-12">1390-12</a> (9)</li><li><a href="/month/1390-11/" title="All posts from 1390-11">1390-11</a> (8)</li><li><a href="/month/1390-10/" title="All posts from 1390-10">1390-10</a> (7)</li><li><a href="/month/1390-09/" title="All posts from 1390-09">1390-09</a> (4)</li><li><a href="/month/1390-08/" title="All posts from 1390-08">1390-08</a> (7)</li><li><a href="/month/1390-07/" title="All posts from 1390-07">1390-07</a> (14)</li><li><a href="/month/1390-06/" title="All posts from 1390-06">1390-06</a> (18)</li></ul></aside></div></div><footer id="footer-wrapper"><div id="footer-bottom-wrapper"><div class="container"><div class="row"><div class="col-12"><p dir="ltr">&copy; Copyright 2011-2022 * Ahmad Hejazee * All rights reserved.</p><small dir="ltr">Proudly Powered by Drupal 10 ;)</small></div></div></div></div></footer><script src="/lib/jQuery/jquery-3.6.0.min.js"></script>
<script src="/lib/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script></body></html>