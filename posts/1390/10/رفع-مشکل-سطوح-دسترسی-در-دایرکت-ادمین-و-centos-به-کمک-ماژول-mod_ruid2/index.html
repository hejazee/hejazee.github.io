<!doctype html><html lang="fa" dir="rtl"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-HTH8HV1F9Z"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HTH8HV1F9Z', { 'anonymize_ip': false });
}
</script><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="keywords" content="آموزش کامپیوتر,برنامه نویسی,VBScript,وی بی اسکریپت,دروپال,Drupal,آموزش برنامه نویسی,طراحی وب,وب,طراحی وب حرفه ای,سیستم عامل,هک,امنیت,مقالات VBScript,فایل,وبگاه,آموزش دروپال,قدم به قدم,مبتدی,حرفه ای,ترفند,بهترین,php,پی اچ پی,css,javascript,html,جاوا اسکریپت,اچ تی ام ال,seo,بهینه سازی,بهینه سازی برای موتور های جستجو,Search Engine Optimization,آشیانه,کتاب,کتاب الکترونیکی,دانلود,وبلاگ,hejazee,hejazi,ashiyane,موتور جستجو"><meta name="geo.region" content="IRAN"><link rel="canonical" href="https://hejazee.ir/posts/1390/10/%D8%B1%D9%81%D8%B9-%D9%85%D8%B4%DA%A9%D9%84-%D8%B3%D8%B7%D9%88%D8%AD-%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C-%D8%AF%D8%B1-%D8%AF%D8%A7%DB%8C%D8%B1%DA%A9%D8%AA-%D8%A7%D8%AF%D9%85%DB%8C%D9%86-%D9%88-centos-%D8%A8%D9%87-%DA%A9%D9%85%DA%A9-%D9%85%D8%A7%DA%98%D9%88%D9%84-mod_ruid2/"><link rel="shortcut icon" href="/favicon.ico" type="image/png"><title>رفع مشکل سطوح دسترسی در دایرکت ادمین و CentOS به کمک ماژول mod_ruid2 | وبلاگ رسمی احمد حجازی</title><link rel="stylesheet" href="/lib/bootstrap-5.1.3-dist/css/bootstrap.rtl.min.css"><link rel="stylesheet" href="/lib/fontawesome-free-5.15.2-web/css/all.min.css"><link rel="stylesheet" href="/fonts/fonts.css"><link rel="stylesheet" href="/scss/index.172bdd1266bb92eb39450b3215cc97ecd4d7ec43ae649679fe3140f189d01c32.css" integrity="sha256-FyvdEma7kus5RQsyFcyX7NTX7EOuZJZ5/jFA8YnQHDI=" crossorigin="anonymous"></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="farsaran-header-nav"><div class="container"><a class="navbar-brand order-0 flex-grow-1 flex-lg-grow-0" href="/"><img src="/logo.svg" alt="وبلاگ رسمی احمد حجازی" height="34"></a>
<button class="navbar-toggler order-2 order-lg-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="نمایش منو">
<span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse mb-3 mb-lg-0" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link" href="/contact/">تماس</a></li><li class="nav-item"><a class="nav-link" href="/about/">درباره</a></li></ul></div></div></nav><div class="container mt-4"><div class="row"><div class="col-md-9"><header><h1 class="post-title fw-bold fs-2"><a class="text-dark" href="/posts/1390/10/%D8%B1%D9%81%D8%B9-%D9%85%D8%B4%DA%A9%D9%84-%D8%B3%D8%B7%D9%88%D8%AD-%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C-%D8%AF%D8%B1-%D8%AF%D8%A7%DB%8C%D8%B1%DA%A9%D8%AA-%D8%A7%D8%AF%D9%85%DB%8C%D9%86-%D9%88-centos-%D8%A8%D9%87-%DA%A9%D9%85%DA%A9-%D9%85%D8%A7%DA%98%D9%88%D9%84-mod_ruid2/">رفع مشکل سطوح دسترسی در دایرکت ادمین و CentOS به کمک ماژول mod_ruid2</a></h1></header><small class="d-block text-secondary post-date">ارسال شده در
<time datetime="2012-01-16">Jan 16, 2012</time></small><article class="blog-post" role="article" typeof="schema:Article"><p>در این مقاله می خواهم روش راه اندازی و اصلاح سطح دسترسی ها را در دایرکت ادمین توضیح دهم. روشی که خودم به کار بردم را در این جا می نویسم که شامل استفاده از mod_ruid2 می باشد.</p><p>من اخیرا مشغول کار با یک سرور لینوکسی بودم و می خواستم آن را با دایرکت ادمین راه اندازی کنم به گونه ای که مناسب هاستینگ و فروش فضا و Reseller و ... باشد.<br>مدیریت یک سرور لینوکس و راه اندازی و پیکربندی آن نیاز به دانش نسبتا متوسط به بالایی دارد. در برخی مواقع، موقع خرید VPS ، از قبل آن را برای مشتری پیکربندی می کنند و تحویل می دهند که در این صورت مشتری هم مشکلی نخواهد داشت و می تواند با دایرکت ادمین به راحتی کار کند.<br>اما در برخی مواقع، پشتیبانی شرکت ضعیف است و سرور را پیکربندی نمی کنند یا آن را به اشتباه پیکربندی می کنند و بلد هم نیستند که مشکلات آن را برطرف کنند. در این شرایط لازم می شود که خود شما اقدام به پیکربندی سرور کنید.</p><p>مشکلی که من داشتم این بود که برای نصب یک سیستم مدیریت محتوا، اعم از دروپال، جوملا یا هر چیز دیگری، معمولا لازم است که برخی پوشه ها یا فایل ها توسط وب سرور قابل خواندن بانشد. و به علت پیکربندی نادرست سیستم، برای این کار لازم بود که فایل های مورد نظر را با مجوز 777 نگهداری کنم. و از طرف دیگر هم، وقتی که به یک فایل مجوز 777 می دادم، فایل توسط سایر کاربران هم قابل دسترسی می شد.</p><p>برای این مشکل، قدری تحقیق کردم و به این نتیجه رسیدم که چون پروسه ی وب سرور، تحت کاربر apache و گروه apache اجرا می شود، لذا به فایل ها دسترسی ندارد و برای این که دسترسی داشته باشد، باید به فایل مجوز Other را بدهیم.</p><p>البته حالت فوق، در حقیقت، حالت پیش فرض لینوکس است و طبیعی می باشد. اما برای یک هاست اشتراکی این حالت مطلوب نیست. در یک سرور اشتراکی باید فایل ها در هیچ شرایطی توسط سایر کاربران قابل دسترسی نباشند.</p><p>و همچنین در یک سرور اشتراکی، فایل ها باید مجوز 644 و پوشه ها 755 داشته باشند. برای حل این مشکل، کافی است که از ماژول mod_ruid2 استفاده کنیم.</p><p>این ماژول سبب می شود که پروسه ی وب سرور، به جای این که تحت کاربر apache اجرا شود، تحت سطح دسترسی صاحب فایل اجرا می شود. به این معنی که آپاچی هر فایلی را اجرا کند، سطح دسترسی Owner فایل را خواهد داشت. به این ترتیب آپاچی به همه ی فایل ها دسترسی دارد و لازم نیست که فایل ها 777 باشند</p><p>به غیر از mod_ruid2 روش دیگری هم وجود دارد که عبارت است از نصب suPhp. این مورد را من آزمایش نکردم.</p><p><span>منابع:</span></p><p><a href="http://www.directadmin.com/forum/showthread.php?t=37467&page=1">http://www.directadmin.com/forum/showthread.php?t=37467&page=1</a></p></article><div id="comments"><div id="disqus_thread"></div><script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hejazee" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></div><aside class="col-md-3 mt-4"><h3>Monthly Archive</h3><ul><li><a href="/month/1395-06/" title="All posts from 1395-06">1395-06</a> (1)</li><li><a href="/month/1395-01/" title="All posts from 1395-01">1395-01</a> (1)</li><li><a href="/month/1394-12/" title="All posts from 1394-12">1394-12</a> (3)</li><li><a href="/month/1394-08/" title="All posts from 1394-08">1394-08</a> (1)</li><li><a href="/month/1394-07/" title="All posts from 1394-07">1394-07</a> (1)</li><li><a href="/month/1394-03/" title="All posts from 1394-03">1394-03</a> (1)</li><li><a href="/month/1394-02/" title="All posts from 1394-02">1394-02</a> (1)</li><li><a href="/month/1393-12/" title="All posts from 1393-12">1393-12</a> (1)</li><li><a href="/month/1393-07/" title="All posts from 1393-07">1393-07</a> (1)</li><li><a href="/month/1393-06/" title="All posts from 1393-06">1393-06</a> (2)</li><li><a href="/month/1393-05/" title="All posts from 1393-05">1393-05</a> (2)</li><li><a href="/month/1393-04/" title="All posts from 1393-04">1393-04</a> (4)</li><li><a href="/month/1393-03/" title="All posts from 1393-03">1393-03</a> (5)</li><li><a href="/month/1393-02/" title="All posts from 1393-02">1393-02</a> (1)</li><li><a href="/month/1393-01/" title="All posts from 1393-01">1393-01</a> (4)</li><li><a href="/month/1392-12/" title="All posts from 1392-12">1392-12</a> (5)</li><li><a href="/month/1392-10/" title="All posts from 1392-10">1392-10</a> (5)</li><li><a href="/month/1392-06/" title="All posts from 1392-06">1392-06</a> (1)</li><li><a href="/month/1392-04/" title="All posts from 1392-04">1392-04</a> (1)</li><li><a href="/month/1392-02/" title="All posts from 1392-02">1392-02</a> (1)</li><li><a href="/month/1392-01/" title="All posts from 1392-01">1392-01</a> (5)</li><li><a href="/month/1391-11/" title="All posts from 1391-11">1391-11</a> (5)</li><li><a href="/month/1391-10/" title="All posts from 1391-10">1391-10</a> (4)</li><li><a href="/month/1391-09/" title="All posts from 1391-09">1391-09</a> (2)</li><li><a href="/month/1391-08/" title="All posts from 1391-08">1391-08</a> (3)</li><li><a href="/month/1391-07/" title="All posts from 1391-07">1391-07</a> (6)</li><li><a href="/month/1391-05/" title="All posts from 1391-05">1391-05</a> (1)</li><li><a href="/month/1391-04/" title="All posts from 1391-04">1391-04</a> (1)</li><li><a href="/month/1391-03/" title="All posts from 1391-03">1391-03</a> (2)</li><li><a href="/month/1391-02/" title="All posts from 1391-02">1391-02</a> (4)</li><li><a href="/month/1391-01/" title="All posts from 1391-01">1391-01</a> (6)</li><li><a href="/month/1390-12/" title="All posts from 1390-12">1390-12</a> (9)</li><li><a href="/month/1390-11/" title="All posts from 1390-11">1390-11</a> (8)</li><li><a href="/month/1390-10/" title="All posts from 1390-10">1390-10</a> (7)</li><li><a href="/month/1390-09/" title="All posts from 1390-09">1390-09</a> (4)</li><li><a href="/month/1390-08/" title="All posts from 1390-08">1390-08</a> (7)</li><li><a href="/month/1390-07/" title="All posts from 1390-07">1390-07</a> (14)</li><li><a href="/month/1390-06/" title="All posts from 1390-06">1390-06</a> (18)</li></ul></aside></div></div><footer id="footer-wrapper"><div id="footer-bottom-wrapper"><div class="container"><div class="row"><div class="col-12"><p dir="ltr">&copy; Copyright 2011-2022 * Ahmad Hejazee * All rights reserved.</p><small dir="ltr">Proudly Powered by Drupal 10 ;)</small></div></div></div></div></footer><script src="/lib/jQuery/jquery-3.6.0.min.js"></script>
<script src="/lib/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script></body></html>