<!doctype html><html lang="fa" dir="rtl"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-HTH8HV1F9Z"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HTH8HV1F9Z', { 'anonymize_ip': false });
}
</script><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="geo.region" content="IRAN"><link rel="canonical" href="https://hejazee.ir/posts/1391/03/%D9%85%D9%87%D8%A7%D8%AC%D8%B1%D8%AA-%D8%A8%D9%87-%D8%AF%D8%B1%D9%88%D9%BE%D8%A7%D9%84-7/"><link rel="shortcut icon" href="/favicon.ico" type="image/png"><title>مهاجرت به دروپال 7 | وبلاگ رسمی احمد حجازی</title><link rel="stylesheet" href="/lib/bootstrap-5.1.3-dist/css/bootstrap.rtl.min.css"><link rel="stylesheet" href="/lib/fontawesome-free-5.15.2-web/css/all.min.css"><link rel="stylesheet" href="/fonts/fonts.css"><link rel="stylesheet" href="/scss/index.eae19926520d6f18098f9660e787191b8730bec9cc57de05b3b9f1e3de9c42a2.css" integrity="sha256-6uGZJlINbxgJj5Zg54cZG4cwvsnMV94Fs7nx496cQqI=" crossorigin="anonymous"></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="farsaran-header-nav"><div class="container"><a class="navbar-brand order-0 flex-grow-1 flex-lg-grow-0" href="/"><img src="/logo.svg" alt="وبلاگ رسمی احمد حجازی" height="34"></a>
<button class="navbar-toggler order-2 order-lg-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="نمایش منو">
<span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse mb-3 mb-lg-0" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link" href="/contact/">تماس</a></li><li class="nav-item"><a class="nav-link" href="/about/">درباره</a></li></ul></div><script async src="https://cse.google.com/cse.js?cx=929a8d3c0fdb44711">
    </script><div class="gcse-search"></div><style>.gsc-control-cse{padding:0}.gsc-input tbody,.gsc-input input{background-color:#ddd}.gsc-input td.gsib_a{padding:.1rem .5rem}.gsc-search-button{display:none}</style></div></nav><div class="container mt-4"><div class="row"><div class="col-md-9"><header><h1 class="post-title fw-bold fs-2"><a class="text-dark" href="/posts/1391/03/%D9%85%D9%87%D8%A7%D8%AC%D8%B1%D8%AA-%D8%A8%D9%87-%D8%AF%D8%B1%D9%88%D9%BE%D8%A7%D9%84-7/">مهاجرت به دروپال 7</a></h1></header><small class="d-block text-secondary post-date">ارسال شده در
<time datetime="2012-06-19">Jun 19, 2012</time></small><article class="blog-post" role="article" typeof="schema:Article"><p>بالاخره، ما هم تصمیم گرفتیم که دروپال 6 را کنار بگذاریم. اکنون وقت آن است که به دروپال 7 مهاجرت کنیم.
کم کم دارم تلاش می کنم تا با ویژگی های جدید دروپال 7 آشنا شوم و معلومات قبلی خود در مورد دروپال 6 را به فراموشی بسپارم!
اولین اقدام هم در این رستا، انتقال وبلاگ خودم از دروپال 6 به دروپال 7 بود. در حال حاضر این سایت از دروپال 7 استفاده می کند. از آن جایی که برای اولین بار بود که یک سایت نسبتا پر محتوا را از نسخه ی 6 به 7 Upgrade می کردم، کمی کار طولانی شد و کمی هم دشوار بود!
در حال حاضر تمامی مطالب سایت به Drupal7 منتقل شده اند، اما هنوز پیکربندی سایت و تنظیمات آن کامل نیست و بعلاوه پوسته ی قبلی سایت را هم دارم به دروپال 7 تبدیل می کنم و به زودی سایت به شکل قبلی خود در خواهد آمد!
برای دوستانی که تا حالا با دروپال کار نکرده اند، باید توضیح دهم که مهاجرت بین نسخه های Major دروپال چندان کار ساده ای نیست. یعنی بر خلاف برخی از CMS های دیگر، آپگرید کردن دروپال می تواند حتی در برخی شرایط بسیار بسیار مشکل باشد. زیرا میزان تفاوت هایی که بین دو نسخه ی 6 و 7 دروپال وجود دارد بسیار زیاد است.
به ویژه برای سایتی که (مثل همین سایت) بیش از 100 تا ماژول فعال دارد، مهاجرت کردن قدری مشکل می شود. سایت های تجاری و بزرگتر که گاهی حدود 400 ماژول فعال دارند کار پر زحمتی خواهد بود.
در ادامه شرحی از تجربیاتی که کسب کردم خواهم نوشت.
هسته ی دروپال یک سیستم Update & Upgrade دارد که برای به روز رسانی اتوماتیک ماژول ها طراحی شده است. طرز کار آن به این صورت است که هر ماژولی در دروپال (چه در هسته و چه ماژول های کمکی) می توانند در فایل .install شان تعدادی تابع update تعریف کنند. نام گذاری این توابع از قواعد معینی پیروی می کند و هسته ی دروپال نیز سیستمی دارد که اطلاعات نسخه ی ماژول ها و به روز رسانی های آن‌ها را ردیابی می کند.
به این ترتیب، هنگامی که می خواهیم یک یا چند تا از ماژول ها را به روز رسانی کنیم، روش کار به این صورت خواهد بود که ابتدا نسخه ی قبلی ماژول را پاک می کنید و ورژن جدید آن را دانلود کرده و در مکان قبلی آن extract می کنیم. به این ترتیب سورس ماژول به روز رسانی می شوذ.
بعد نوبت دیتابیس است. دیتابیس هم باید به روز رسانی شود تا با نسخه ی جدید ماژول سازگار باشد (زیرا ممکن است نسخه ی جدید ماژول، اطلاعاتش را به گونه ای دیگر در دیتابیس ذخیره کند و ما باید اطلاعاتی که قبلا ذخیره شده را به فرمت جدید در بیاوریم تا نسخه ی جدید ماژول آن ها را بشناسد.
برای این منظور کافی است اسکریپت update.php را اجرا کنیم. هنگامی که اسکریپت update.php را اجرا می کنیم، دروپال با توجه به اطلاعاتی که ردیابی کرده است و با توجه به توابع update موجود در فایل .install ماژول، مشخص می کند که کدام توابع update باید اجرا شوند.
سپس توابع لازم را به ترتیب در یک Batch job اجرا می کند و این توابع موظف هستند که اطلاعات نسخه ی قبلی ماژول را به فرمت جدید به روز رسانی کنند. (البته ممکن است هر کار ضروری دیگر را هم انجام دهند. منحصر به این نمی شود)</p><p>بنا بر این متوجه شدیم که در دروپال، هر ماژولی موظف است خودش را آپدیت کند و معمولا این کار را هم به خوبی انجام میدهد. (که در قیاس با برخی از سایر CMS ها ایده ی بسیار بهتری است)
در ضمن می دانیم که هسته ی دروپال هم خود از تعدادی ماژول تشکلیل شده است که مانند ماژول های دیگر هستند و از همین روال استفاده می کند.</p><p>با توجه به این اوصاف، انتظار می رود که Upgrade کردن دروپال کار بسیار ساده باشد. دقیقا درست است! به روز رسانی دروپال و ماژول هایش بسیار آسان است! (حتی به روز رسانی های major)
اما، وقتی که صحبت از به روز رسانی که یک سایت دروپال از یک نسخه ی Major به نسخه ی Major بعدی باشد و بر روی سایت هم تعداد زیادی ماژول نصب باشد، آن وقت، بحث فرق می کند.</p><p>به لحاظ تئوری چنین به نظر می رسد که باید بازهم کار ساده ای باشد و همان روند Upgrade درونی دروپال پاسخگو باشد. اما به چند دلیل گاهی این کافی نیست:</p><p>1 - ماژول هایی که نسخه ی دروپال 7 آن ها هنوز Release نشده!
2 - برخی از ماژول ها مثل CCK برای دروپال 6 وجود دارد، ولی در دروپال 7، امکانات آن به هسته اضافه شده. البته با یک روش متفاوت! یعنی دروپال 7 به صورت درونی قابلیت های CCK را پشتیبانی می کند ولی روش انجام آن با خود CCK تفاوت دارد.
3 - برخی ماژول ها در دروپال 6 موجودند، اما برای دروپال 7 باید از ماژول دیگری استفاده کنیم که کاری تقریبا مشابه آن را انجام می دهد. مثل ماژول Node reference که در CCK 6.x بود ولی در دروپال 7 وجود ندارد.
4 - به روز رسانی فایل سیستم
5 - وجود relation بین اشیاء سایت معضل را دو چندان می کند. مثلا node ها و comment ها با هم رابطه دارند. User ها و Role ها با هم رابطه دارند. و در Views به این اشیا Reference هایی داریم. به عنوان مثال دقت کنید که هنگامی که در Views یک Role را انتخاب می کنید، شناسه ی آن که یک عدد است انتخاب می شود. حال فرض کنید در سایت جدیدتان، همان Role را درست کرده اید ولی شناسه ی آن چیز دیگری است (چون شناسه ها ی Role ها متاسفانه قاعده ی ساده ای ندارد!)
در این جا است که Views شما دیگر کار خود را درست انجام نخواهد داد.
6 - &mldr;</p><p>مواردی که ذکر کردم به عنوان مشت نمونه ی خروار است و به این چند تا محدود نمی شود. و این البته بستگی دارد به طراحی سایت و این که شما تا چه حد سایتتان را درست و اصولی طراحی کرده باشید.</p><p>من به عنوان یک developer حرفه ای و نسبتا با تجربه در دروپال، از ابزار هایی که برای Upgrade کردن و Migration دروپال ساخته شده اند بی خبر نیستم. ماژول هایی مثل features و deploy و feeds و migrate و &mldr; هم وجود دارند که می توانند کار را تا حدی راحت کنند.
اما استفاده از این ماژول ها گاهی چنان پیچیده است که آدم با خود فکر می کند که برای یک وبلاگ ساده، اگر دستی اطلاعات وبلاگ را یکی یکی منتقل کند زود تر تمام می شود!! (البته برای سایت های کوچک)
برای سایت های بزرگ، باید از همین ابزار ها استفاده کرد.</p><p>اما من برای وبلاگ خودم، یک روش ابداعی خودم را استفاده کردم. کاملا مطمئن هستم که روش من بهینه نبوده و در این هیچ شک ندارم که قطعا روش های بهتری هم برای این کار وجود داشته، اما ترجیح دادم که برای مهاجرت به دروپال 7، روش آن را خودم ابداع کنم.
روشی که توضیح می دهم، را به دیگران توصیه نمی کنم چون بدون شک بهینه نیست. اما با این حال، یک تجربه ی جالب دروپالی است و مطمئنا جنبه های آموزشی زیادی را در بر خواهد داشت.</p><p>من ترجیح دادم که از صفر شروع کنم و یک ماژول Migrator بنویسم. ابتدا یک ماژول برای دروپال 6 نوشتم که کلیه ی node های سایت قبلی ام را لود می کرد و آن ها را export می گرفت و در یک فایل متنی ذخیره می کرد. نام ماژول را گذاشتم myexport و آن را نصب کردم.
سپس با یک کلیک توانستم تمامی node های سایت قبلی را در یک فایل متنی به صورت یک آرایه ی PHP داشته باشم (فرمت export گیری به صورت php array بوده)
قصد ندارم که سورس آن را در این جا قرار دهم زیرا ماژول جالبی نشد و در ضمن ماژول های آماده دیگری هم وجود دارد که می توانید از سایت drupal.org دانلود کنید و همین کار export گیری node ها را انجام می دهند و خیلی هم بهتر هستند.</p><p>سپس ماژول ساده ی دیگری برای Drupal 7 نوشتم که این اطلاعات را از درون فایل متنی می خواند و در دروپال 7 وارد می کند (یعنی یک دروپال 7 جدید نصب کردم و با این ماژول توانستم node های قبلی را در سایت جدید import کنم) نام ماژول را myimport گذاشتم</p><p>سورس ماژول را در انتهای ضمیمه می کنم که ماژول ساده ای است و امیدوارم که سوس آن برای دوستان قابل درک باشد.</p><p>طرز کار این گونه است که ابتدا فایل node ها را include می کنیم و array موجود در آن را میخوانیم. بعد یکی یکی node ها را به دست می آوریم و آبجکت آن را ایجاد می کنیم. سپس کافی است به node_save آن را ذخیره کنیم.
فقط مشکلی که وجود دارد، این است که node های از نوع های مختلف، با هم تفاوت دارند و من مجبور شدم که به ازای هر نوع محتوا، یک تابع جداگانه بنویسم.
به دلیل این که زیاد حوصله نداشتم و می خواستم زود تر کار تمام شود، کد ها را عجله ای نوشتم و فکر می کنم که کیفیت زیادی نداشته باشد. (خودم نمره ی 14 از 20 به آن می دهم)</p><p>در ضمن یاد آوری می کنم که این سورس فقط برای سایت من کار می کند. یعنی تصور نکنید که این سورس را همه جا می توانید مستقیما استفاده کنید. زیرا سورس را اختصاصا برای همین سایت درست کردم و برای این که بخواهید از آن برای سایت خودتان استفاده کنید قطعا مجبور خواهید بود که در آن تغییرات بسیاری ایجاد کنید!
این سورس فقط برای تمرین گذاشته شده و کاربرد عملی ندارد!</p><p>پس از این که node ها وارد شد (که حدود 218 تا بود) اکنون باید comment ها را نیز وارد می کردم . تعداد زیادی comment داشتم که باید وارد می شد.
این بار حوصله نداشتم که مجددا یک ماژول بنویسم که comment ها را از سایت قبلی export کند.</p><p>دیدم راه ساده ای وجود دارد و آن این است که در ماژول myimport که برای دروپال 7 است، مستقیما در دیتابیس دروپال 6 لاگین کنم و اطلاعات را سطر به سطر از جدول comments بخوانم و سپس مجددا دیتابیس را switch کنم و به دیتابیس Drupal 7 بازگردم. آن گاه اطلاعات را در دروپال 7 وارد کنم.
خوشبختانه دروپال 7 برای switch کردن بین database های متعدد توانایی خوبی دارد و API ساده ای برای این منظور پیش بینی کرده است.</p><p>نکات جالبی که کشف کردم، یکی این بود که وضعیت (status) کامنت ها در دروپال 7 به عکس شده. یعنی در دروپال 7 نسبت به دروپال 6 ، ستون comment معکوس شده و 1 و 0 جایگزین شده اند.
به همین خاطر در ابتدا تمام دیدگاه های منتشر شده در سایت در صف تایید قرار گرفتند و تمام دیدگاه های منتظر شده به وضعیت منتشر نشده در آمدند. که با یک علامت تعجب (!) ساده در سورس کد، مشکل برطرف شد!!</p><p>کشف جالب دیگری که داشتم، مفهوم Vancode است که بعدا بیشتر توضیح می دهم. این جا را ببینید:
<a href="http://api.drupal.org/api/drupal/modules!comment!comment.module/function/int2vancode/7">http://api.drupal.org/api/drupal/modules!comment!comment.module/function/int2vancode/7</a></p><p>این هم سورس ماژول myimport:</p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-php" data-lang="php"><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1">  1</a></span><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-2">  2</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-3">  3</a></span><span><span style="color:#e6db74"> * @file Import data from d6 to d7
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-4">  4</a></span><span><span style="color:#e6db74"> * @author Ahmad Hejazee &lt;info@hejazee.com&gt;
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-5">  5</a></span><span><span style="color:#e6db74"> * @url http://www.hejazee.com/ @endurl
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-6">  6</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-7">  7</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-8">  8</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-9">  9</a></span><span><span style="color:#e6db74"> * hook_menu()
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-10"> 10</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-11"> 11</a></span><span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_menu</span>() {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-12"> 12</a></span><span>    $items[<span style="color:#e6db74">&#39;myimport&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-13"> 13</a></span><span>    <span style="color:#e6db74">&#39;title&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;My import&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-14"> 14</a></span><span>    <span style="color:#e6db74">&#39;description&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;Import data to drupal 7&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-15"> 15</a></span><span>    <span style="color:#e6db74">&#39;page callback&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;drupal_get_form&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-16"> 16</a></span><span>    <span style="color:#e6db74">&#39;page arguments&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(<span style="color:#e6db74">&#39;myimport_imort_form&#39;</span>),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-17"> 17</a></span><span>    <span style="color:#e6db74">&#39;access callback&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">TRUE</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-18"> 18</a></span><span>    <span style="color:#e6db74">&#39;type&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">MENU_NORMAL_ITEM</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-19"> 19</a></span><span>    );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-20"> 20</a></span><span>    <span style="color:#66d9ef">return</span> $items;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-21"> 21</a></span><span> }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-22"> 22</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-23"> 23</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-24"> 24</a></span><span><span style="color:#e6db74"> * Form builder
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-25"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-25"> 25</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-26"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-26"> 26</a></span><span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_form</span>() {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-27"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-27"> 27</a></span><span>    $form <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-28"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-28"> 28</a></span><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">confirm_form</span>($form, <span style="color:#a6e22e">t</span>(<span style="color:#e6db74">&#39;Are you sure?&#39;</span>), <span style="color:#e6db74">&#39;myimport&#39;</span>, <span style="color:#a6e22e">t</span>(<span style="color:#e6db74">&#39;Import?&#39;</span>), <span style="color:#a6e22e">t</span>(<span style="color:#e6db74">&#39;Import&#39;</span>), <span style="color:#a6e22e">t</span>(<span style="color:#e6db74">&#39;Cancel&#39;</span>));
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-29"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-29"> 29</a></span><span> }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-30"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-30"> 30</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-31"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-31"> 31</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-32"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-32"> 32</a></span><span><span style="color:#e6db74"> * Submit handler
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-33"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-33"> 33</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-34"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-34"> 34</a></span><span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_form_submit</span>($form, <span style="color:#f92672">&amp;</span>$form_state) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-35"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-35"> 35</a></span><span>    <span style="color:#66d9ef">global</span> $my_arr;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-36"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-36"> 36</a></span><span>    <span style="color:#66d9ef">require_once</span> (<span style="color:#a6e22e">dirname</span>(<span style="color:#66d9ef">__FILE__</span>) <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/nodes.php&#39;</span>);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-37"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-37"> 37</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-38"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-38"> 38</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-39"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-39"> 39</a></span><span>  <span style="color:#66d9ef">foreach</span> ($my_arr <span style="color:#66d9ef">as</span> $key <span style="color:#f92672">=&gt;</span> $node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-40"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-40"> 40</a></span><span>    
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-41"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-41"> 41</a></span><span>    <span style="color:#66d9ef">switch</span> ($node[<span style="color:#e6db74">&#39;type&#39;</span>]) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-42"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-42"> 42</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;tutorial&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-43"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-43"> 43</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_tutorial</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-44"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-44"> 44</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-45"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-45"> 45</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;simplenews&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-46"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-46"> 46</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_simplenews</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-47"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-47"> 47</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-48"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-48"> 48</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;book&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-49"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-49"> 49</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_book</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-50"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-50"> 50</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-51"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-51"> 51</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;page&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-52"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-52"> 52</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_page</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-53"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-53"> 53</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-54"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-54"> 54</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;activity&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-55"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-55"> 55</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_activity</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-56"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-56"> 56</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-57"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-57"> 57</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;forum&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-58"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-58"> 58</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_forum</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-59"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-59"> 59</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-60"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-60"> 60</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;story&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-61"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-61"> 61</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_story</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-62"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-62"> 62</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-63"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-63"> 63</a></span><span>      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;status&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-64"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-64"> 64</a></span><span>        $new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_imort_status</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-65"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-65"> 65</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-66"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-66"> 66</a></span><span>      <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-67"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-67"> 67</a></span><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-68"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-68"> 68</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-69"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-69"> 69</a></span><span>    
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-70"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-70"> 70</a></span><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($new_node<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">nid</span>)) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-71"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-71"> 71</a></span><span>      <span style="color:#a6e22e">myimport_import_node_comments</span>($node[<span style="color:#e6db74">&#39;nid&#39;</span>], $new_node<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">nid</span>);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-72"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-72"> 72</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-73"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-73"> 73</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-74"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-74"> 74</a></span><span>  <span style="color:#75715e">//drupal_set_message(&#39;--------&#39; . print_r($my_arr, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-75"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-75"> 75</a></span><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-76"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-76"> 76</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-77"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-77"> 77</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_tutorial</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-78"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-78"> 78</a></span><span>  <span style="color:#75715e">//drupal_set_message(print_r($node, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-79"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-79"> 79</a></span><span><span style="color:#75715e"></span>  $n <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-80"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-80"> 80</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-81"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-81"> 81</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-82"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-82"> 82</a></span><span>  <span style="color:#75715e">//$n-&gt;log = $node[&#39;log&#39;];
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-83"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-83"> 83</a></span><span><span style="color:#75715e"></span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-84"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-84"> 84</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-85"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-85"> 85</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">promote</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;promote&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-86"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-86"> 86</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">sticky</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;sticky&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-87"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-87"> 87</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;type&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-88"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-88"> 88</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">language</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;language&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-89"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-89"> 89</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;created&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-90"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-90"> 90</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">changed</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;changed&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-91"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-91"> 91</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tnid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;tnid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-92"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-92"> 92</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;translate&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-93"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-93"> 93</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-94"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-94"> 94</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-95"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-95"> 95</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-96"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-96"> 96</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-97"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-97"> 97</a></span><span>      <span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-98"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-98"> 98</a></span><span>        <span style="color:#e6db74">&#39;value&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;body&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-99"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-99"> 99</a></span><span>        <span style="color:#e6db74">&#39;summary&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;teaser&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-100"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-100">100</a></span><span>        <span style="color:#e6db74">&#39;format&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_convert_format</span>($node[<span style="color:#e6db74">&#39;format&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-101"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-101">101</a></span><span>        <span style="color:#75715e">//&#39;safe_value&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-102"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-102">102</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_summary&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-103"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-103">103</a></span><span><span style="color:#75715e"></span>      ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-104"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-104">104</a></span><span>    ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-105"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-105">105</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-106"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-106">106</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-107"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-107">107</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($node[<span style="color:#e6db74">&#39;field_tutorial_images&#39;</span>]) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">empty</span>($node[<span style="color:#e6db74">&#39;field_tutorial_images&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-108"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-108">108</a></span><span>    $field_images <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-109"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-109">109</a></span><span>    $field_images[<span style="color:#e6db74">&#39;und&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_file_multiple</span>($node[<span style="color:#e6db74">&#39;field_tutorial_images&#39;</span>]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-110"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-110">110</a></span><span>    <span style="color:#66d9ef">foreach</span> ($node[<span style="color:#e6db74">&#39;field_tutorial_images&#39;</span>] <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-111"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-111">111</a></span><span>      $description <span style="color:#f92672">=</span> $alt <span style="color:#f92672">=</span> $title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-112"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-112">112</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-113"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-113">113</a></span><span>        $description <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-114"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-114">114</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-115"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-115">115</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-116"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-116">116</a></span><span>        $alt <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-117"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-117">117</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-118"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-118">118</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-119"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-119">119</a></span><span>        $title <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-120"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-120">120</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-121"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-121">121</a></span><span>      
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-122"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-122">122</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;description&#39;</span>] <span style="color:#f92672">=</span> $description;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-123"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-123">123</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;alt&#39;</span>] <span style="color:#f92672">=</span> $alt;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-124"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-124">124</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;title&#39;</span>] <span style="color:#f92672">=</span> $title;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-125"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-125">125</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;display&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-126"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-126">126</a></span><span>      <span style="color:#75715e">//remove empty files
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-127"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-127">127</a></span><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ($field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;uri&#39;</span>] <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;public://&#39;</span>) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-128"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-128">128</a></span><span>        <span style="color:#a6e22e">unset</span>($field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-129"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-129">129</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-130"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-130">130</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-131"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-131">131</a></span><span>    $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_images</span> <span style="color:#f92672">=</span> $field_images;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-132"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-132">132</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-133"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-133">133</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-134"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-134">134</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>]) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">empty</span>($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-135"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-135">135</a></span><span>    $field_files <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-136"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-136">136</a></span><span>    $field_files[<span style="color:#e6db74">&#39;und&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_file_multiple</span>($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-137"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-137">137</a></span><span>    <span style="color:#66d9ef">foreach</span> ($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>] <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-138"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-138">138</a></span><span>      $description <span style="color:#f92672">=</span> $alt <span style="color:#f92672">=</span> $title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-139"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-139">139</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-140"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-140">140</a></span><span>        $description <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-141"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-141">141</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-142"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-142">142</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-143"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-143">143</a></span><span>        $alt <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-144"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-144">144</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-145"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-145">145</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-146"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-146">146</a></span><span>        $title <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-147"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-147">147</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-148"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-148">148</a></span><span>      
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-149"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-149">149</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;description&#39;</span>] <span style="color:#f92672">=</span> $description;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-150"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-150">150</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;alt&#39;</span>] <span style="color:#f92672">=</span> $alt;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-151"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-151">151</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;title&#39;</span>] <span style="color:#f92672">=</span> $title;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-152"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-152">152</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;display&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-153"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-153">153</a></span><span>      <span style="color:#75715e">//remove empty files
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-154"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-154">154</a></span><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ($field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;uri&#39;</span>] <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;public://&#39;</span>) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-155"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-155">155</a></span><span>        <span style="color:#a6e22e">unset</span>($field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-156"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-156">156</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-157"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-157">157</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-158"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-158">158</a></span><span>    $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_files</span> <span style="color:#f92672">=</span> $field_files;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-159"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-159">159</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-160"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-160">160</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-161"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-161">161</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_categories</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-162"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-162">162</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_make_taxonomy</span>($node[<span style="color:#e6db74">&#39;taxonomy&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-163"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-163">163</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-164"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-164">164</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-165"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-165">165</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">metatags</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-166"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-166">166</a></span><span>    <span style="color:#e6db74">&#39;description&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-167"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-167">167</a></span><span>    <span style="color:#e6db74">&#39;keywords&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-168"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-168">168</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-169"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-169">169</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-170"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-170">170</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-171"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-171">171</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-172"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-172">172</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_count</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment_count&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-173"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-173">173</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-174"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-174">174</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">picture</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;picture&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-175"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-175">175</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;data&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-176"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-176">176</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-177"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-177">177</a></span><span>  <span style="color:#a6e22e">node_save</span>($n);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-178"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-178">178</a></span><span>  <span style="color:#66d9ef">return</span> $n;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-179"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-179">179</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-180"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-180">180</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-181"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-181">181</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_simplenews</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-182"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-182">182</a></span><span>  <span style="color:#75715e">//We don&#39;t need to import simplenews content at all
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-183"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-183">183</a></span><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-184"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-184">184</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-185"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-185">185</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_book</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-186"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-186">186</a></span><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">myimport_imort_tutorial</span>($node);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-187"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-187">187</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-188"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-188">188</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-189"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-189">189</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_page</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-190"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-190">190</a></span><span>  <span style="color:#75715e">//drupal_set_message(print_r($node, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-191"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-191">191</a></span><span><span style="color:#75715e"></span>  $n <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-192"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-192">192</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-193"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-193">193</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-194"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-194">194</a></span><span>  <span style="color:#75715e">//$n-&gt;log = $node[&#39;log&#39;];
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-195"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-195">195</a></span><span><span style="color:#75715e"></span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-196"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-196">196</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-197"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-197">197</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">promote</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;promote&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-198"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-198">198</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">sticky</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;sticky&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-199"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-199">199</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;type&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-200"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-200">200</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">language</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;language&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-201"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-201">201</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;created&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-202"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-202">202</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">changed</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;changed&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-203"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-203">203</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tnid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;tnid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-204"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-204">204</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;translate&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-205"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-205">205</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-206"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-206">206</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-207"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-207">207</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-208"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-208">208</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-209"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-209">209</a></span><span>      <span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-210"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-210">210</a></span><span>        <span style="color:#e6db74">&#39;value&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;body&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-211"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-211">211</a></span><span>        <span style="color:#e6db74">&#39;summary&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;teaser&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-212"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-212">212</a></span><span>        <span style="color:#e6db74">&#39;format&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_convert_format</span>($node[<span style="color:#e6db74">&#39;format&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-213"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-213">213</a></span><span>        <span style="color:#75715e">//&#39;safe_value&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-214"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-214">214</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_summary&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-215"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-215">215</a></span><span><span style="color:#75715e"></span>      ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-216"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-216">216</a></span><span>    ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-217"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-217">217</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-218"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-218">218</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-219"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-219">219</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>]) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">empty</span>($node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-220"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-220">220</a></span><span>    $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">metatags</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-221"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-221">221</a></span><span>      <span style="color:#e6db74">&#39;description&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-222"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-222">222</a></span><span>      <span style="color:#e6db74">&#39;keywords&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-223"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-223">223</a></span><span>    );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-224"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-224">224</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-225"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-225">225</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-226"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-226">226</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-227"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-227">227</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-228"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-228">228</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_count</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment_count&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-229"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-229">229</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-230"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-230">230</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">picture</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;picture&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-231"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-231">231</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;data&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-232"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-232">232</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-233"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-233">233</a></span><span>  <span style="color:#a6e22e">node_save</span>($n);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-234"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-234">234</a></span><span>  <span style="color:#66d9ef">return</span> $n;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-235"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-235">235</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-236"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-236">236</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-237"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-237">237</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_activity</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-238"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-238">238</a></span><span>  <span style="color:#75715e">//drupal_set_message(print_r($node, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-239"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-239">239</a></span><span><span style="color:#75715e"></span>  $n <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-240"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-240">240</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-241"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-241">241</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-242"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-242">242</a></span><span>  <span style="color:#75715e">//$n-&gt;log = $node[&#39;log&#39;];
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-243"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-243">243</a></span><span><span style="color:#75715e"></span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-244"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-244">244</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-245"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-245">245</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">promote</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;promote&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-246"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-246">246</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">sticky</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;sticky&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-247"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-247">247</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;type&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-248"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-248">248</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">language</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;language&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-249"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-249">249</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;created&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-250"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-250">250</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">changed</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;changed&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-251"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-251">251</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tnid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;tnid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-252"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-252">252</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;translate&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-253"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-253">253</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-254"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-254">254</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-255"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-255">255</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-256"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-256">256</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-257"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-257">257</a></span><span>      <span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-258"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-258">258</a></span><span>        <span style="color:#e6db74">&#39;value&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;body&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-259"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-259">259</a></span><span>        <span style="color:#e6db74">&#39;summary&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;teaser&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-260"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-260">260</a></span><span>        <span style="color:#e6db74">&#39;format&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_convert_format</span>($node[<span style="color:#e6db74">&#39;format&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-261"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-261">261</a></span><span>        <span style="color:#75715e">//&#39;safe_value&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-262"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-262">262</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_summary&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-263"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-263">263</a></span><span><span style="color:#75715e"></span>      ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-264"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-264">264</a></span><span>    ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-265"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-265">265</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-266"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-266">266</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-267"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-267">267</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($node[<span style="color:#e6db74">&#39;field_images&#39;</span>]) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">empty</span>($node[<span style="color:#e6db74">&#39;field_images&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-268"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-268">268</a></span><span>    $field_images <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-269"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-269">269</a></span><span>    $field_images[<span style="color:#e6db74">&#39;und&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_file_multiple</span>($node[<span style="color:#e6db74">&#39;field_images&#39;</span>]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-270"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-270">270</a></span><span>    <span style="color:#66d9ef">foreach</span> ($node[<span style="color:#e6db74">&#39;field_images&#39;</span>] <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-271"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-271">271</a></span><span>      $description <span style="color:#f92672">=</span> $alt <span style="color:#f92672">=</span> $title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-272"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-272">272</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-273"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-273">273</a></span><span>        $description <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-274"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-274">274</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-275"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-275">275</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-276"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-276">276</a></span><span>        $alt <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-277"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-277">277</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-278"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-278">278</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-279"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-279">279</a></span><span>        $title <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-280"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-280">280</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-281"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-281">281</a></span><span>      
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-282"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-282">282</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;description&#39;</span>] <span style="color:#f92672">=</span> $description;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-283"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-283">283</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;alt&#39;</span>] <span style="color:#f92672">=</span> $alt;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-284"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-284">284</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;title&#39;</span>] <span style="color:#f92672">=</span> $title;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-285"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-285">285</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;display&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-286"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-286">286</a></span><span>      <span style="color:#75715e">//remove empty files
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-287"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-287">287</a></span><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ($field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;uri&#39;</span>] <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;public://&#39;</span>) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-288"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-288">288</a></span><span>        <span style="color:#a6e22e">unset</span>($field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-289"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-289">289</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-290"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-290">290</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-291"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-291">291</a></span><span>    $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_images</span> <span style="color:#f92672">=</span> $field_images;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-292"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-292">292</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-293"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-293">293</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-294"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-294">294</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_categories</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-295"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-295">295</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_make_taxonomy</span>($node[<span style="color:#e6db74">&#39;taxonomy&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-296"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-296">296</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-297"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-297">297</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-298"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-298">298</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">metatags</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-299"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-299">299</a></span><span>    <span style="color:#e6db74">&#39;description&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-300"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-300">300</a></span><span>    <span style="color:#e6db74">&#39;keywords&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-301"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-301">301</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-302"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-302">302</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-303"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-303">303</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-304"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-304">304</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-305"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-305">305</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_count</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment_count&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-306"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-306">306</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-307"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-307">307</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">picture</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;picture&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-308"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-308">308</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;data&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-309"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-309">309</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-310"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-310">310</a></span><span>  <span style="color:#a6e22e">node_save</span>($n);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-311"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-311">311</a></span><span>  <span style="color:#66d9ef">return</span> $n;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-312"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-312">312</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-313"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-313">313</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-314"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-314">314</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_forum</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-315"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-315">315</a></span><span>  <span style="color:#75715e">//drupal_set_message(print_r($node, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-316"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-316">316</a></span><span><span style="color:#75715e"></span>  $n <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-317"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-317">317</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-318"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-318">318</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-319"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-319">319</a></span><span>  <span style="color:#75715e">//$n-&gt;log = $node[&#39;log&#39;];
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-320"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-320">320</a></span><span><span style="color:#75715e"></span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-321"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-321">321</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-322"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-322">322</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">promote</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;promote&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-323"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-323">323</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">sticky</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;sticky&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-324"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-324">324</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;type&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-325"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-325">325</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">language</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;language&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-326"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-326">326</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;created&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-327"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-327">327</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">changed</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;changed&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-328"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-328">328</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tnid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;tnid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-329"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-329">329</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;translate&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-330"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-330">330</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-331"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-331">331</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-332"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-332">332</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-333"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-333">333</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-334"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-334">334</a></span><span>      <span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-335"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-335">335</a></span><span>        <span style="color:#e6db74">&#39;value&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;body&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-336"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-336">336</a></span><span>        <span style="color:#e6db74">&#39;summary&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;teaser&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-337"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-337">337</a></span><span>        <span style="color:#e6db74">&#39;format&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_convert_format</span>($node[<span style="color:#e6db74">&#39;format&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-338"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-338">338</a></span><span>        <span style="color:#75715e">//&#39;safe_value&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-339"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-339">339</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_summary&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-340"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-340">340</a></span><span><span style="color:#75715e"></span>      ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-341"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-341">341</a></span><span>    ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-342"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-342">342</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-343"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-343">343</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-344"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-344">344</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">taxonomy_forums</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-345"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-345">345</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_make_taxonomy</span>($node[<span style="color:#e6db74">&#39;taxonomy&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-346"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-346">346</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-347"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-347">347</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-348"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-348">348</a></span><span>  <span style="color:#75715e">// $n-&gt;metatags = array(
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-349"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-349">349</a></span><span><span style="color:#75715e"></span>    <span style="color:#75715e">// &#39;description&#39; =&gt; $node[&#39;nodewords&#39;][&#39;metatags&#39;][&#39;description&#39;],
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-350"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-350">350</a></span><span><span style="color:#75715e"></span>    <span style="color:#75715e">// &#39;keywords&#39; =&gt; $node[&#39;nodewords&#39;][&#39;metatags&#39;][&#39;keywords&#39;],
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-351"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-351">351</a></span><span><span style="color:#75715e"></span>  <span style="color:#75715e">// );
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-352"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-352">352</a></span><span><span style="color:#75715e"></span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-353"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-353">353</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-354"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-354">354</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-355"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-355">355</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_count</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment_count&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-356"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-356">356</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-357"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-357">357</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">picture</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;picture&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-358"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-358">358</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;data&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-359"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-359">359</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-360"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-360">360</a></span><span>  <span style="color:#a6e22e">node_save</span>($n);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-361"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-361">361</a></span><span>  <span style="color:#66d9ef">return</span> $n;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-362"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-362">362</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-363"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-363">363</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-364"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-364">364</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_story</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-365"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-365">365</a></span><span>  <span style="color:#75715e">//drupal_set_message(print_r($node, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-366"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-366">366</a></span><span><span style="color:#75715e"></span>  $n <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-367"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-367">367</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-368"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-368">368</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-369"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-369">369</a></span><span>  <span style="color:#75715e">//$n-&gt;log = $node[&#39;log&#39;];
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-370"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-370">370</a></span><span><span style="color:#75715e"></span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-371"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-371">371</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-372"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-372">372</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">promote</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;promote&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-373"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-373">373</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">sticky</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;sticky&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-374"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-374">374</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;type&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-375"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-375">375</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">language</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;language&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-376"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-376">376</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;created&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-377"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-377">377</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">changed</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;changed&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-378"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-378">378</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tnid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;tnid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-379"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-379">379</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;translate&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-380"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-380">380</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-381"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-381">381</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-382"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-382">382</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-383"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-383">383</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-384"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-384">384</a></span><span>      <span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-385"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-385">385</a></span><span>        <span style="color:#e6db74">&#39;value&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;body&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-386"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-386">386</a></span><span>        <span style="color:#e6db74">&#39;summary&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;teaser&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-387"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-387">387</a></span><span>        <span style="color:#e6db74">&#39;format&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_convert_format</span>($node[<span style="color:#e6db74">&#39;format&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-388"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-388">388</a></span><span>        <span style="color:#75715e">//&#39;safe_value&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-389"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-389">389</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_summary&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-390"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-390">390</a></span><span><span style="color:#75715e"></span>      ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-391"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-391">391</a></span><span>    ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-392"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-392">392</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-393"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-393">393</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-394"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-394">394</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($node[<span style="color:#e6db74">&#39;field_blog_images&#39;</span>]) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">empty</span>($node[<span style="color:#e6db74">&#39;field_blog_images&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-395"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-395">395</a></span><span>    $field_images <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-396"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-396">396</a></span><span>    $field_images[<span style="color:#e6db74">&#39;und&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_file_multiple</span>($node[<span style="color:#e6db74">&#39;field_blog_images&#39;</span>]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-397"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-397">397</a></span><span>    <span style="color:#66d9ef">foreach</span> ($node[<span style="color:#e6db74">&#39;field_blog_images&#39;</span>] <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-398"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-398">398</a></span><span>      $description <span style="color:#f92672">=</span> $alt <span style="color:#f92672">=</span> $title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-399"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-399">399</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-400"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-400">400</a></span><span>        $description <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-401"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-401">401</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-402"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-402">402</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-403"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-403">403</a></span><span>        $alt <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-404"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-404">404</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-405"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-405">405</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-406"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-406">406</a></span><span>        $title <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-407"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-407">407</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-408"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-408">408</a></span><span>      
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-409"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-409">409</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;description&#39;</span>] <span style="color:#f92672">=</span> $description;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-410"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-410">410</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;alt&#39;</span>] <span style="color:#f92672">=</span> $alt;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-411"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-411">411</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;title&#39;</span>] <span style="color:#f92672">=</span> $title;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-412"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-412">412</a></span><span>      $field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;display&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-413"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-413">413</a></span><span>      <span style="color:#75715e">//remove empty files
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-414"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-414">414</a></span><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ($field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;uri&#39;</span>] <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;public://&#39;</span>) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-415"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-415">415</a></span><span>        <span style="color:#a6e22e">unset</span>($field_images[<span style="color:#e6db74">&#39;und&#39;</span>][$c]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-416"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-416">416</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-417"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-417">417</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-418"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-418">418</a></span><span>    $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_images</span> <span style="color:#f92672">=</span> $field_images;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-419"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-419">419</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-420"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-420">420</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-421"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-421">421</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>]) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">empty</span>($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-422"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-422">422</a></span><span>    $field_files <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-423"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-423">423</a></span><span>    $field_files[<span style="color:#e6db74">&#39;und&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">myimport_file_multiple</span>($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-424"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-424">424</a></span><span>    <span style="color:#66d9ef">foreach</span> ($node[<span style="color:#e6db74">&#39;field_tutorial_files&#39;</span>] <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-425"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-425">425</a></span><span>      $description <span style="color:#f92672">=</span> $alt <span style="color:#f92672">=</span> $title;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-426"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-426">426</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-427"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-427">427</a></span><span>        $description <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-428"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-428">428</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-429"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-429">429</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-430"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-430">430</a></span><span>        $alt <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;alt&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-431"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-431">431</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-432"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-432">432</a></span><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-433"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-433">433</a></span><span>        $title <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-434"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-434">434</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-435"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-435">435</a></span><span>      
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-436"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-436">436</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;description&#39;</span>] <span style="color:#f92672">=</span> $description;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-437"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-437">437</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;alt&#39;</span>] <span style="color:#f92672">=</span> $alt;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-438"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-438">438</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;title&#39;</span>] <span style="color:#f92672">=</span> $title;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-439"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-439">439</a></span><span>      $field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;display&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-440"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-440">440</a></span><span>      <span style="color:#75715e">//remove empty files
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-441"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-441">441</a></span><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> ($field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c][<span style="color:#e6db74">&#39;uri&#39;</span>] <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;public://&#39;</span>) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-442"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-442">442</a></span><span>        <span style="color:#a6e22e">unset</span>($field_files[<span style="color:#e6db74">&#39;und&#39;</span>][$c]);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-443"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-443">443</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-444"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-444">444</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-445"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-445">445</a></span><span>    $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_files</span> <span style="color:#f92672">=</span> $field_files;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-446"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-446">446</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-447"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-447">447</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-448"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-448">448</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">field_categories</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-449"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-449">449</a></span><span>    <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_make_taxonomy</span>($node[<span style="color:#e6db74">&#39;taxonomy&#39;</span>]),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-450"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-450">450</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-451"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-451">451</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-452"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-452">452</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">metatags</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-453"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-453">453</a></span><span>    <span style="color:#e6db74">&#39;description&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-454"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-454">454</a></span><span>    <span style="color:#e6db74">&#39;keywords&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-455"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-455">455</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-456"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-456">456</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-457"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-457">457</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-458"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-458">458</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-459"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-459">459</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_count</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment_count&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-460"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-460">460</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-461"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-461">461</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">picture</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;picture&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-462"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-462">462</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;data&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-463"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-463">463</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-464"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-464">464</a></span><span>  <span style="color:#a6e22e">node_save</span>($n);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-465"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-465">465</a></span><span>  <span style="color:#66d9ef">return</span> $n;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-466"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-466">466</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-467"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-467">467</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-468"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-468">468</a></span><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_imort_status</span>($node) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-469"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-469">469</a></span><span>  <span style="color:#75715e">//drupal_set_message(print_r($node, TRUE));
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-470"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-470">470</a></span><span><span style="color:#75715e"></span>  $n <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-471"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-471">471</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-472"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-472">472</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;title&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-473"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-473">473</a></span><span>  <span style="color:#75715e">//$n-&gt;log = $node[&#39;log&#39;];
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-474"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-474">474</a></span><span><span style="color:#75715e"></span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-475"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-475">475</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-476"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-476">476</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">promote</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;promote&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-477"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-477">477</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">sticky</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;sticky&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-478"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-478">478</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;type&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-479"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-479">479</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">language</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;language&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-480"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-480">480</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;created&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-481"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-481">481</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">changed</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;changed&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-482"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-482">482</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tnid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;tnid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-483"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-483">483</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">translate</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;translate&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-484"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-484">484</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-485"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-485">485</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revision_uid</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;revision_uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-486"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-486">486</a></span><span>  <span style="color:#75715e">// $n-&gt;body = array(
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-487"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-487">487</a></span><span><span style="color:#75715e"></span>    <span style="color:#75715e">// &#39;und&#39; =&gt; array(
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-488"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-488">488</a></span><span><span style="color:#75715e"></span>      <span style="color:#75715e">// 0 =&gt; array(
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-489"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-489">489</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">// &#39;value&#39; =&gt; $node[&#39;body&#39;],
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-490"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-490">490</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">// &#39;summary&#39; =&gt; $node[&#39;teaser&#39;],
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-491"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-491">491</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">// &#39;format&#39; =&gt; myimport_convert_format($node[&#39;format&#39;]),
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-492"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-492">492</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_value&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-493"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-493">493</a></span><span><span style="color:#75715e"></span>        <span style="color:#75715e">//&#39;safe_summary&#39; =&gt; &#39;&#39;,
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-494"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-494">494</a></span><span><span style="color:#75715e"></span>      <span style="color:#75715e">// ),
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-495"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-495">495</a></span><span><span style="color:#75715e"></span>    <span style="color:#75715e">// ),
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-496"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-496">496</a></span><span><span style="color:#75715e"></span>  <span style="color:#75715e">// );
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-497"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-497">497</a></span><span><span style="color:#75715e"></span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-498"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-498">498</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">metatags</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-499"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-499">499</a></span><span>    <span style="color:#e6db74">&#39;description&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;description&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-500"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-500">500</a></span><span>    <span style="color:#e6db74">&#39;keywords&#39;</span> <span style="color:#f92672">=&gt;</span> $node[<span style="color:#e6db74">&#39;nodewords&#39;</span>][<span style="color:#e6db74">&#39;metatags&#39;</span>][<span style="color:#e6db74">&#39;keywords&#39;</span>],
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-501"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-501">501</a></span><span>  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-502"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-502">502</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-503"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-503">503</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_timestamp</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-504"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-504">504</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">last_comment_name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;last_comment_name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-505"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-505">505</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_count</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;comment_count&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-506"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-506">506</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;name&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-507"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-507">507</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">picture</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;picture&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-508"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-508">508</a></span><span>  $n<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> $node[<span style="color:#e6db74">&#39;data&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-509"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-509">509</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-510"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-510">510</a></span><span>  <span style="color:#a6e22e">node_save</span>($n);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-511"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-511">511</a></span><span>  <span style="color:#66d9ef">return</span> $n;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-512"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-512">512</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-513"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-513">513</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-514"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-514">514</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-515"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-515">515</a></span><span><span style="color:#e6db74"> * Create taxonomy_term object from a d6 taxonomy array
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-516"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-516">516</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-517"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-517">517</a></span><span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_make_taxonomy</span>($taxonomy_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-518"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-518">518</a></span><span>    $result <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-519"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-519">519</a></span><span>    <span style="color:#75715e">//load data
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-520"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-520">520</a></span><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">foreach</span> ($taxonomy_array <span style="color:#66d9ef">as</span> $a <span style="color:#f92672">=&gt;</span> $container) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-521"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-521">521</a></span><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">is_numeric</span>($a)) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-522"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-522">522</a></span><span>      <span style="color:#75715e">//This is a forum or simplenews tag
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-523"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-523">523</a></span><span><span style="color:#75715e"></span>      $vid <span style="color:#f92672">=</span> $a;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-524"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-524">524</a></span><span>      <span style="color:#66d9ef">foreach</span> ($container <span style="color:#66d9ef">as</span> $tid <span style="color:#f92672">=&gt;</span> $tids_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-525"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-525">525</a></span><span>        $matched_term <span style="color:#f92672">=</span> <span style="color:#a6e22e">taxonomy_term_load</span>($tid);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-526"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-526">526</a></span><span>        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">empty</span>($matched_term)) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-527"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-527">527</a></span><span>          <span style="color:#75715e">//This tag is not created yet. Create it
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-528"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-528">528</a></span><span><span style="color:#75715e"></span>          $term <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-529"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-529">529</a></span><span>          $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">vid</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; <span style="color:#75715e">//Save new term in &#39;Categories&#39; vocabulary
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-530"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-530">530</a></span><span><span style="color:#75715e"></span>          $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $tid;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-531"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-531">531</a></span><span>          <span style="color:#a6e22e">taxonomy_term_save</span>($term);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-532"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-532">532</a></span><span>          $result[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-533"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-533">533</a></span><span>            <span style="color:#e6db74">&#39;tid&#39;</span> <span style="color:#f92672">=&gt;</span> $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tid</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-534"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-534">534</a></span><span>            <span style="color:#e6db74">&#39;taxonomy_term&#39;</span> <span style="color:#f92672">=&gt;</span> $term,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-535"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-535">535</a></span><span>          );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-536"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-536">536</a></span><span>        }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-537"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-537">537</a></span><span>        <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-538"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-538">538</a></span><span>          $result[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-539"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-539">539</a></span><span>            <span style="color:#e6db74">&#39;tid&#39;</span> <span style="color:#f92672">=&gt;</span> $matched_term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tid</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-540"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-540">540</a></span><span>            <span style="color:#e6db74">&#39;taxonomy_term&#39;</span> <span style="color:#f92672">=&gt;</span> $matched_term,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-541"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-541">541</a></span><span>          );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-542"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-542">542</a></span><span>        }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-543"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-543">543</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-544"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-544">544</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-545"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-545">545</a></span><span>    <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-546"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-546">546</a></span><span>      <span style="color:#75715e">//This is a general tag
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-547"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-547">547</a></span><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">foreach</span> ($container <span style="color:#66d9ef">as</span> $vid <span style="color:#f92672">=&gt;</span> $tags_str) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-548"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-548">548</a></span><span>        $vid <span style="color:#f92672">=</span> (<span style="color:#a6e22e">int</span>)$vid;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-549"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-549">549</a></span><span>        <span style="color:#66d9ef">switch</span> ($vid) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-550"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-550">550</a></span><span>          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-551"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-551">551</a></span><span>          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-552"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-552">552</a></span><span>          <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-553"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-553">553</a></span><span>            <span style="color:#75715e">//general categories
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-554"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-554">554</a></span><span><span style="color:#75715e"></span>            $tags_arr <span style="color:#f92672">=</span> <span style="color:#a6e22e">explode</span>(<span style="color:#e6db74">&#39;, &#39;</span>, $tags_str);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-555"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-555">555</a></span><span>            <span style="color:#66d9ef">foreach</span> ($tags_arr <span style="color:#66d9ef">as</span> $i <span style="color:#f92672">=&gt;</span> $tag) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-556"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-556">556</a></span><span>              $matched_terms <span style="color:#f92672">=</span> <span style="color:#a6e22e">taxonomy_get_term_by_name</span>($tag);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-557"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-557">557</a></span><span>              <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">empty</span>($matched_terms)) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-558"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-558">558</a></span><span>                <span style="color:#75715e">//This tag is not created yet. Create it
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-559"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-559">559</a></span><span><span style="color:#75715e"></span>                $term <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-560"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-560">560</a></span><span>                $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">vid</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>; <span style="color:#75715e">//Save new term in &#39;Categories&#39; vocabulary
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-561"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-561">561</a></span><span><span style="color:#75715e"></span>                $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $tag;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-562"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-562">562</a></span><span>                <span style="color:#a6e22e">taxonomy_term_save</span>($term);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-563"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-563">563</a></span><span>                $result[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-564"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-564">564</a></span><span>                  <span style="color:#e6db74">&#39;tid&#39;</span> <span style="color:#f92672">=&gt;</span> $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tid</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-565"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-565">565</a></span><span>                  <span style="color:#e6db74">&#39;taxonomy_term&#39;</span> <span style="color:#f92672">=&gt;</span> $term,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-566"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-566">566</a></span><span>                );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-567"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-567">567</a></span><span>              }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-568"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-568">568</a></span><span>              <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-569"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-569">569</a></span><span>                <span style="color:#66d9ef">foreach</span> ($matched_terms <span style="color:#66d9ef">as</span> $j <span style="color:#f92672">=&gt;</span> $term) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-570"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-570">570</a></span><span>                  $result[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-571"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-571">571</a></span><span>                    <span style="color:#e6db74">&#39;tid&#39;</span> <span style="color:#f92672">=&gt;</span> $term<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">tid</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-572"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-572">572</a></span><span>                    <span style="color:#e6db74">&#39;taxonomy_term&#39;</span> <span style="color:#f92672">=&gt;</span> $term,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-573"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-573">573</a></span><span>                  );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-574"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-574">574</a></span><span>                }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-575"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-575">575</a></span><span>              }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-576"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-576">576</a></span><span>            }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-577"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-577">577</a></span><span>            
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-578"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-578">578</a></span><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-579"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-579">579</a></span><span>          <span style="color:#75715e">//case 46:
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-580"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-580">580</a></span><span><span style="color:#75715e"></span>            <span style="color:#75715e">//forums
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-581"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-581">581</a></span><span><span style="color:#75715e"></span>            
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-582"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-582">582</a></span><span>            <span style="color:#75715e">//break;
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-583"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-583">583</a></span><span><span style="color:#75715e"></span>          <span style="color:#75715e">//case 47:
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-584"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-584">584</a></span><span><span style="color:#75715e"></span>            <span style="color:#75715e">//newsletter
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-585"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-585">585</a></span><span><span style="color:#75715e"></span>            <span style="color:#75715e">//I decided not to import simplenews contents
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-586"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-586">586</a></span><span><span style="color:#75715e"></span>            <span style="color:#75715e">//break;
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-587"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-587">587</a></span><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-588"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-588">588</a></span><span>      }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-589"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-589">589</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-590"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-590">590</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-591"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-591">591</a></span><span>    <span style="color:#66d9ef">return</span> $result;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-592"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-592">592</a></span><span> }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-593"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-593">593</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-594"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-594">594</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-595"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-595">595</a></span><span><span style="color:#e6db74"> * convert d6 format number to d7 format name
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-596"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-596">596</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-597"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-597">597</a></span><span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_convert_format</span>($format_id) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-598"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-598">598</a></span><span>    $format_id <span style="color:#f92672">=</span> (<span style="color:#a6e22e">int</span>)$format_id;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-599"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-599">599</a></span><span>    <span style="color:#66d9ef">switch</span> ($format_id) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-600"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-600">600</a></span><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-601"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-601">601</a></span><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;filtered_html&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-602"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-602">602</a></span><span>      <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-603"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-603">603</a></span><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-604"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-604">604</a></span><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;full_html&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-605"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-605">605</a></span><span>      <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-606"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-606">606</a></span><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-607"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-607">607</a></span><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;plain_text&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-608"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-608">608</a></span><span>      <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-609"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-609">609</a></span><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-610"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-610">610</a></span><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;raw_html&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-611"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-611">611</a></span><span>      <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-612"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-612">612</a></span><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-613"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-613">613</a></span><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;html_mail&#39;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-614"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-614">614</a></span><span>      <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-615"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-615">615</a></span><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-616"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-616">616</a></span><span>      <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-617"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-617">617</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-618"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-618">618</a></span><span> }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-619"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-619">619</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-620"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-620">620</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-621"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-621">621</a></span><span><span style="color:#e6db74"> * Convert a d6 file array to d7 stdClass file object and save file
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-622"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-622">622</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-623"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-623">623</a></span><span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_file</span>($file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-624"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-624">624</a></span><span>    <span style="color:#66d9ef">static</span> $store <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-625"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-625">625</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-626"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-626">626</a></span><span>  $file_path <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;filepath&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-627"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-627">627</a></span><span>  $file_path <span style="color:#f92672">=</span> <span style="color:#a6e22e">str_replace</span>(<span style="color:#e6db74">&#39;sites/www.hejazee.com/files/&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>, $file_path);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-628"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-628">628</a></span><span>  $file_path <span style="color:#f92672">=</span> <span style="color:#a6e22e">file_build_uri</span>($file_path);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-629"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-629">629</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-630"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-630">630</a></span><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isset</span>($store[$file_path])) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-631"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-631">631</a></span><span>    $sql <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;SELECT fid FROM {file_managed} WHERE uri = &#39;</span><span style="color:#e6db74">$file_path</span><span style="color:#e6db74">&#39;&#34;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-632"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-632">632</a></span><span>    $sql_result <span style="color:#f92672">=</span> <span style="color:#a6e22e">db_query</span>($sql);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-633"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-633">633</a></span><span>    $row <span style="color:#f92672">=</span> $sql_result<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">fetchObject</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-634"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-634">634</a></span><span>    <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">empty</span>($row)) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-635"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-635">635</a></span><span>      <span style="color:#a6e22e">drupal_set_message</span>(<span style="color:#e6db74">&#34;File error: &#34;</span> <span style="color:#f92672">.</span> $file_path);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-636"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-636">636</a></span><span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">NULL</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-637"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-637">637</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-638"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-638">638</a></span><span>    $fid <span style="color:#f92672">=</span> $row<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">fid</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-639"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-639">639</a></span><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">file_load</span>($fid);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-640"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-640">640</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-641"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-641">641</a></span><span>  <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-642"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-642">642</a></span><span>    $store[$file_path] <span style="color:#f92672">=</span> $file_path;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-643"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-643">643</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-644"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-644">644</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-645"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-645">645</a></span><span>  $file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-646"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-646">646</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;uid&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-647"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-647">647</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">filename</span> <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;filename&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-648"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-648">648</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uri</span> <span style="color:#f92672">=</span> $file_path;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-649"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-649">649</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">filemime</span> <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;filemime&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-650"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-650">650</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">filesize</span> <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;filesize&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-651"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-651">651</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;status&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-652"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-652">652</a></span><span>  $file<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">timestamp</span> <span style="color:#f92672">=</span> $file_array[<span style="color:#e6db74">&#39;timestamp&#39;</span>];
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-653"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-653">653</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-654"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-654">654</a></span><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">file_save</span>($file);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-655"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-655">655</a></span><span>}
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-656"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-656">656</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-657"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-657">657</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-658"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-658">658</a></span><span><span style="color:#e6db74"> * Import multiple files
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-659"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-659">659</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-660"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-660">660</a></span><span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_file_multiple</span>($files_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-661"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-661">661</a></span><span>    $result <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-662"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-662">662</a></span><span>    <span style="color:#66d9ef">foreach</span> ($files_array <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $file_array) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-663"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-663">663</a></span><span>    $result[$c] <span style="color:#f92672">=</span> (<span style="color:#66d9ef">array</span>)<span style="color:#a6e22e">myimport_file</span>($file_array);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-664"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-664">664</a></span><span>    }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-665"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-665">665</a></span><span>    <span style="color:#66d9ef">return</span> $result;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-666"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-666">666</a></span><span> }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-667"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-667">667</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-668"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-668">668</a></span><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-669"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-669">669</a></span><span><span style="color:#e6db74"> * Import all comments associated with a node in d6 to Drupal7
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-670"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-670">670</a></span><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-671"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-671">671</a></span><span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myimport_import_node_comments</span>($d6_nid, $d7_nid) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-672"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-672">672</a></span><span>    <span style="color:#75715e">//Connect to d6 database to fetch commetns
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-673"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-673">673</a></span><span><span style="color:#75715e"></span>    $d6_database <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-674"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-674">674</a></span><span>      <span style="color:#e6db74">&#39;database&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;dbname&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-675"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-675">675</a></span><span>      <span style="color:#e6db74">&#39;username&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;username&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-676"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-676">676</a></span><span>      <span style="color:#e6db74">&#39;password&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;password&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-677"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-677">677</a></span><span>      <span style="color:#e6db74">&#39;host&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;localhost&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-678"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-678">678</a></span><span>      <span style="color:#e6db74">&#39;driver&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;mysql&#39;</span>,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-679"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-679">679</a></span><span>    );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-680"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-680">680</a></span><span>    <span style="color:#a6e22e">Database</span><span style="color:#f92672">::</span><span style="color:#a6e22e">addConnectionInfo</span>(<span style="color:#e6db74">&#39;MyImportD6DB&#39;</span>, <span style="color:#e6db74">&#39;default&#39;</span>, $d6_database);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-681"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-681">681</a></span><span>    <span style="color:#a6e22e">db_set_active</span>(<span style="color:#e6db74">&#39;MyImportD6DB&#39;</span>);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-682"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-682">682</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-683"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-683">683</a></span><span>  $sql <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;SELECT * FROM {comments} WHERE nid=</span><span style="color:#e6db74">$d6_nid</span><span style="color:#e6db74"> ORDER BY cid ASC&#34;</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-684"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-684">684</a></span><span>  $sql_result <span style="color:#f92672">=</span> <span style="color:#a6e22e">db_query</span>($sql);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-685"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-685">685</a></span><span>  $rows <span style="color:#f92672">=</span> $sql_result<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">fetchAll</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-686"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-686">686</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-687"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-687">687</a></span><span>  <span style="color:#75715e">//Map d6 cid to d7 cid s
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-688"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-688">688</a></span><span><span style="color:#75715e"></span>  <span style="color:#75715e">// as [$d6_cid] =&gt; [$d7_cid]
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-689"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-689">689</a></span><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">static</span> $comment_mapping <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-690"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-690">690</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-691"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-691">691</a></span><span>  <span style="color:#66d9ef">foreach</span> ($rows <span style="color:#66d9ef">as</span> $c <span style="color:#f92672">=&gt;</span> $comment) {
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-692"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-692">692</a></span><span>    $cid        <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">cid</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-693"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-693">693</a></span><span>    $pid        <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">pid</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-694"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-694">694</a></span><span>    $comment_nid<span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">nid</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-695"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-695">695</a></span><span>    $uid        <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-696"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-696">696</a></span><span>    $subject    <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">subject</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-697"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-697">697</a></span><span>    $comment_body<span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-698"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-698">698</a></span><span>    $hostname   <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hostname</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-699"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-699">699</a></span><span>    $timestamp  <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">timestamp</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-700"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-700">700</a></span><span>    $status     <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-701"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-701">701</a></span><span>    $format     <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">format</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-702"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-702">702</a></span><span>    $thread     <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">thread</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-703"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-703">703</a></span><span>    $name       <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-704"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-704">704</a></span><span>    $mail       <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">mail</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-705"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-705">705</a></span><span>    $homepage   <span style="color:#f92672">=</span> $comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">homepage</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-706"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-706">706</a></span><span>    
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-707"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-707">707</a></span><span>    $d7comment <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">stdClass</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-708"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-708">708</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">cid</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>; <span style="color:#75715e">//to avoid errors caused by drupal 7.14 bugs.
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-709"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-709">709</a></span><span><span style="color:#75715e"></span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">pid</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">isset</span>($comment_mapping[$pid]) <span style="color:#f92672">?</span> $comment_mapping[$pid] <span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-710"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-710">710</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">nid</span> <span style="color:#f92672">=</span> $d7_nid;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-711"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-711">711</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">uid</span> <span style="color:#f92672">=</span> $uid;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-712"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-712">712</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">subject</span> <span style="color:#f92672">=</span> $subject;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-713"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-713">713</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">comment_body</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-714"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-714">714</a></span><span>      <span style="color:#e6db74">&#39;und&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-715"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-715">715</a></span><span>        <span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">array</span>(
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-716"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-716">716</a></span><span>          <span style="color:#e6db74">&#39;value&#39;</span> <span style="color:#f92672">=&gt;</span> $comment_body,
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-717"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-717">717</a></span><span>          <span style="color:#e6db74">&#39;format&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">myimport_convert_format</span>($format),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-718"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-718">718</a></span><span>        ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-719"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-719">719</a></span><span>      ),
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-720"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-720">720</a></span><span>    );
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-721"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-721">721</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hostname</span> <span style="color:#f92672">=</span> $hostname;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-722"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-722">722</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">created</span> <span style="color:#f92672">=</span> $timestamp;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-723"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-723">723</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> ($status <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-724"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-724">724</a></span><span>    <span style="color:#75715e">//$d7comment-&gt;format
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-725"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-725">725</a></span><span><span style="color:#75715e"></span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">thread</span> <span style="color:#f92672">=</span> $thread;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-726"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-726">726</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> $name;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-727"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-727">727</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">mail</span> <span style="color:#f92672">=</span> $mail;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-728"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-728">728</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">homepage</span> <span style="color:#f92672">=</span> $homepage;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-729"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-729">729</a></span><span>    $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">notify</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">//comment_notify module
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-730"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-730">730</a></span><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-731"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-731">731</a></span><span>    <span style="color:#75715e">//return to default db for comment_save()
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-732"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-732">732</a></span><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">db_set_active</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-733"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-733">733</a></span><span>    <span style="color:#a6e22e">comment_save</span>($d7comment);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-734"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-734">734</a></span><span>    <span style="color:#a6e22e">db_set_active</span>(<span style="color:#e6db74">&#39;MyImportD6DB&#39;</span>);
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-735"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-735">735</a></span><span>    
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-736"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-736">736</a></span><span>    $comment_mapping[$comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">cid</span>] <span style="color:#f92672">=</span> $d7comment<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">cid</span>;
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-737"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-737">737</a></span><span>  }
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-738"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-738">738</a></span><span>
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-739"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-739">739</a></span><span>  <span style="color:#75715e">//return to default db
</span></span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-740"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-740">740</a></span><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">db_set_active</span>();
</span></span><span style="display:flex"><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id="hl-0-741"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-741">741</a></span><span>}
</span></span></code></pre></div></article><div id="comments"><div class="commends-header"><h3>نظرات شما</h3><small class="text-muted" style="font-size:.7rem">قسمت نظرات با استفاده از سرویس <a href="https://disqus.com/">دیسکاس</a> پیاده سازی شده است.
متاسفانه این سرویس از داخل ایران قابل دسترس نیست. لطفا از آی پی خارجی استفاده کنید.</small></div><div id="disqus_thread"></div><script>
        window.disqus_config = function () { 
          this.language = "fa";
        };
        (function() {
            var d = document, s = d.createElement('script'); s.async = true;
            s.src = '//' + "hejazee" + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
      </script></div></div><aside class="col-md-3 mt-4"><h3>Monthly Archive</h3><ul><li><a href="/month/1395-06/" title="All posts from 1395-06">1395-06</a> (1)</li><li><a href="/month/1395-01/" title="All posts from 1395-01">1395-01</a> (1)</li><li><a href="/month/1394-12/" title="All posts from 1394-12">1394-12</a> (3)</li><li><a href="/month/1394-08/" title="All posts from 1394-08">1394-08</a> (1)</li><li><a href="/month/1394-07/" title="All posts from 1394-07">1394-07</a> (1)</li><li><a href="/month/1394-03/" title="All posts from 1394-03">1394-03</a> (1)</li><li><a href="/month/1394-02/" title="All posts from 1394-02">1394-02</a> (1)</li><li><a href="/month/1393-12/" title="All posts from 1393-12">1393-12</a> (1)</li><li><a href="/month/1393-07/" title="All posts from 1393-07">1393-07</a> (1)</li><li><a href="/month/1393-06/" title="All posts from 1393-06">1393-06</a> (2)</li><li><a href="/month/1393-05/" title="All posts from 1393-05">1393-05</a> (2)</li><li><a href="/month/1393-04/" title="All posts from 1393-04">1393-04</a> (4)</li><li><a href="/month/1393-03/" title="All posts from 1393-03">1393-03</a> (5)</li><li><a href="/month/1393-02/" title="All posts from 1393-02">1393-02</a> (1)</li><li><a href="/month/1393-01/" title="All posts from 1393-01">1393-01</a> (4)</li><li><a href="/month/1392-12/" title="All posts from 1392-12">1392-12</a> (5)</li><li><a href="/month/1392-10/" title="All posts from 1392-10">1392-10</a> (5)</li><li><a href="/month/1392-06/" title="All posts from 1392-06">1392-06</a> (1)</li><li><a href="/month/1392-04/" title="All posts from 1392-04">1392-04</a> (1)</li><li><a href="/month/1392-02/" title="All posts from 1392-02">1392-02</a> (1)</li><li><a href="/month/1392-01/" title="All posts from 1392-01">1392-01</a> (5)</li><li><a href="/month/1391-11/" title="All posts from 1391-11">1391-11</a> (5)</li><li><a href="/month/1391-10/" title="All posts from 1391-10">1391-10</a> (4)</li><li><a href="/month/1391-09/" title="All posts from 1391-09">1391-09</a> (2)</li><li><a href="/month/1391-08/" title="All posts from 1391-08">1391-08</a> (3)</li><li><a href="/month/1391-07/" title="All posts from 1391-07">1391-07</a> (6)</li><li><a href="/month/1391-05/" title="All posts from 1391-05">1391-05</a> (1)</li><li><a href="/month/1391-04/" title="All posts from 1391-04">1391-04</a> (1)</li><li><a href="/month/1391-03/" title="All posts from 1391-03">1391-03</a> (2)</li><li><a href="/month/1391-02/" title="All posts from 1391-02">1391-02</a> (4)</li><li><a href="/month/1391-01/" title="All posts from 1391-01">1391-01</a> (6)</li><li><a href="/month/1390-12/" title="All posts from 1390-12">1390-12</a> (9)</li><li><a href="/month/1390-11/" title="All posts from 1390-11">1390-11</a> (8)</li><li><a href="/month/1390-10/" title="All posts from 1390-10">1390-10</a> (7)</li><li><a href="/month/1390-09/" title="All posts from 1390-09">1390-09</a> (4)</li><li><a href="/month/1390-08/" title="All posts from 1390-08">1390-08</a> (7)</li><li><a href="/month/1390-07/" title="All posts from 1390-07">1390-07</a> (15)</li><li><a href="/month/1390-06/" title="All posts from 1390-06">1390-06</a> (18)</li></ul></aside></div></div><footer id="footer-wrapper"><div id="footer-bottom-wrapper"><div class="container"><div class="row"><div class="col-12"><p dir="ltr">&copy; Copyright 2011-2022 * Ahmad Hejazee * All rights reserved.</p><small dir="ltr">Proudly Powered by Drupal 10 ;)</small></div></div></div></div></footer><script src="/lib/jQuery/jquery-3.6.0.min.js"></script>
<script src="/lib/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script></body></html>